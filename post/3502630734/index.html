<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta name="generator" content="Hexo 5.4.0">
  <meta charset="utf-8">
  

  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>Git常用命令整理 - CAYZLH</title>

  
  <meta name="description" content="Git常用命令整理，Git命令速查">

  <!-- feed -->
  
    <link rel="alternate" href="/atom.xml" title="CAYZLH" type="application/atom+xml">
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  
    
      <meta name="msapplication-TileColor" content="#2d89ef">
    
      <meta name="msapplication-config" content="/assets/favicon/browserconfig.xml">
    
      <meta name="theme-color" content="#ffffff">
    
      <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/cayzlh/psychic-potato@master/logo/favicon.ico">
    
      <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/cayzlh/psychic-potato@master/logo/favicon-192x192.png" sizes="192x192">
    
      <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.jsdelivr.net/gh/cayzlh/psychic-potato@master/logo/apple-touch-icon.png">
    
  
</head>

<body>
  


  <div class="l_body" id="start">
    <aside class="l_left">
    

<header class="header">
  <div class="logo-wrap">
  
    <a class="avatar" href="/">
      
        <img no-lazy class="bg" src="https://cdn.jsdelivr.net/gh/cdn-x/placeholder@1.0.2/avatar/round/rainbow64@3x.webp" onerror="javascript:this.classList.add('error');this.src='https://cdn.jsdelivr.net/gh/cayzlh/git-img-repository@master/2021/04/16084216181285221618128522255.svg';">
      
      <img no-lazy class="avatar" src="https://cdn.jsdelivr.net/gh/cayzlh/psychic-potato@master/image/IMG_4207.JPG" onerror="javascript:this.classList.add('error');this.src='https://cdn.jsdelivr.net/gh/cayzlh/git-img-repository@master/2021/04/16084216181285221618128522255.svg';">
    </a>
  
  
    <a class="title" href="/">
      CAYZLH
    </a>
  
</div>

  <nav class="menu dis-select"><a class="nav-item active" href="/">文章</a><a class="nav-item" href="/wiki/">文档</a><a class="nav-item" href="/talking/">动态</a><a class="nav-item" href="/about/">更多</a></nav>
</header>

<div class="widgets">
  
    
      
      
<div class="widget-wrap" id="toc"><div class="widget-header h4 dis-select"><span class="name">本文目录</span></div><div class="widget-body fs14 post"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#git-clone"><span class="toc-text">git clone</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-remote"><span class="toc-text">git remote</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-fetch"><span class="toc-text">git fetch</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-pull"><span class="toc-text">git pull</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-push"><span class="toc-text">git push</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BB%93%E5%BA%93"><span class="toc-text">初始化仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86%E6%96%87%E4%BB%B6%E6%B7%BB%E5%8A%A0%E5%88%B0%E4%BB%93%E5%BA%93"><span class="toc-text">将文件添加到仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86%E6%9A%82%E5%AD%98%E5%8C%BA%E6%96%87%E4%BB%B6%E6%8F%90%E4%BA%A4%E5%88%B0%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93"><span class="toc-text">将暂存区文件提交到本地仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E4%BB%93%E5%BA%93%E5%BD%93%E5%89%8D%E7%8A%B6%E6%80%81"><span class="toc-text">查看仓库当前状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E6%96%87%E4%BB%B6%E5%BC%82%E5%90%8C"><span class="toc-text">比较文件异同</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95"><span class="toc-text">查看历史记录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%9B%9E%E6%BB%9A"><span class="toc-text">代码回滚</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-text">同步远程仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%89%88%E6%9C%AC%E5%BA%93%E6%96%87%E4%BB%B6"><span class="toc-text">删除版本库文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E5%BA%93%E9%87%8C%E7%9A%84%E7%89%88%E6%9C%AC%E6%9B%BF%E6%8D%A2%E5%B7%A5%E4%BD%9C%E5%8C%BA%E7%9A%84%E7%89%88%E6%9C%AC"><span class="toc-text">版本库里的版本替换工作区的版本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93%E5%86%85%E5%AE%B9%E6%8E%A8%E9%80%81%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-text">本地仓库内容推送到远程仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8E%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%AC%E5%9C%B0"><span class="toc-text">从远程仓库克隆项目到本地</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%88%86%E6%94%AF"><span class="toc-text">创建分支</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%88%86%E6%94%AF"><span class="toc-text">查看分支</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF"><span class="toc-text">合并分支</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF"><span class="toc-text">删除分支</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%88%86%E6%94%AF%E5%90%88%E5%B9%B6%E5%9B%BE"><span class="toc-text">查看分支合并图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%BF%9C%E7%A8%8B%E5%BA%93%E4%BF%A1%E6%81%AF"><span class="toc-text">查看远程库信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE"><span class="toc-text">git相关配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%92%A4%E6%B6%88%E6%9F%90%E6%AC%A1%E6%8F%90%E4%BA%A4"><span class="toc-text">撤消某次提交</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%89%E5%8F%96%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF%E5%88%B0%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93"><span class="toc-text">拉取远程分支到本地仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E5%91%BD%E4%BB%A4"><span class="toc-text">标签命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E6%9B%B4%E6%96%B0"><span class="toc-text">同步远程仓库更新</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%89%E5%8F%96%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E5%B9%B6%E4%B8%94%E8%A6%86%E7%9B%96%E6%9C%AC%E5%9C%B0%E6%9B%B4%E6%94%B9"><span class="toc-text">拉取远程代码并且覆盖本地更改</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E5%87%BA%E8%BF%9C%E7%A8%8B%E5%92%8C%E6%9C%AC%E5%9C%B0%E6%89%80%E6%9C%89%E5%88%86%E6%94%AF"><span class="toc-text">列出远程和本地所有分支</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%BA%E5%88%B6%E6%9B%B4%E6%96%B0%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF"><span class="toc-text">强制更新远程分支</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E6%BB%9A%E4%B8%80%E4%B8%AA-merge"><span class="toc-text">回滚一个 merge</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E4%B9%8B%E5%89%8D%E7%9A%84%E6%8F%90%E4%BA%A4%E8%AE%B0%E5%BD%95%E6%88%96%E8%80%85%E5%BE%88%E4%B9%85%E5%89%8D%E6%8F%90%E4%BA%A4%E7%9A%84%E8%AE%B0%E5%BD%95"><span class="toc-text">修改之前的提交记录或者很久前提交的记录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%A4%9A%E4%B8%AA%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E5%BA%93%EF%BC%8C%E5%B9%B6%E4%B8%94%E4%BD%BF%E7%94%A8%E5%A4%9A%E4%B8%AA%E4%B8%8D%E5%90%8C%E7%9A%84-SSH-Key"><span class="toc-text">使用多个远程代码库，并且使用多个不同的 SSH Key</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%92%8C%E5%A4%96%E9%83%A8%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C%E9%9C%80%E8%A6%81%E7%9A%84%E7%BB%B4%E6%8A%A4%E5%A4%9A%E4%B8%AA%E8%BF%9C%E7%A8%8B%E5%BA%93%EF%BC%8C%E5%90%88%E5%B9%B6%E5%85%B6%E4%BB%96%E5%BA%93%E7%9A%84%E6%9B%B4%E6%96%B0%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-text">和外部团队协作需要的维护多个远程库，合并其他库的更新的过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%92%A4%E9%94%80-Git-%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1%E6%8F%90%E4%BA%A4"><span class="toc-text">撤销 Git 的最后一次提交</span></a></li></ol></div></div></div>

    
  
</div>
<footer class="footer"><div class="social-wrap dis-select"><a class="social" href="https://github.com/cayzlh" target="_blank" rel="external nofollow noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/social/08a41b181ce68.svg"></a><a class="social" href="https://telegram.me/Q2F5emxo" target="_blank" rel="external nofollow noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/cayzlh/psychic-potato@master/image/guanyuwomen.svg"></a><a class="social" href="/about/#comments" rel="noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/social/942ebbf1a4b91.svg"></a></div></footer>

    </aside>
    <div class="l_main">
      

      


  <div class="bread-nav fs12">
  
    
    <div id="breadcrumb">
      <a class="cap breadcrumb" href="/">主页</a>
      <span class="sep"></span>
      <a class="cap breadcrumb" href="/">文章</a>
      
        <span class="sep"></span>
        <a class="cap breadcrumb-link" href="/categories/%E7%AC%94%E8%AE%B0%E6%9C%AC/">笔记本</a>
      
    </div>
    <div id="post-meta">
      发布于&nbsp;<time datetime="2021-03-07T07:19:46.000Z">2021-03-07</time>
    </div>
  
  </div>


<article class="content md post">
<h1 class="article-title"><span>Git常用命令整理</span></h1>
<p><code>Git</code>的四个组成部分：</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://github.com/cayzlh/git-img-repository/raw/master/blog/2018/11/10/1.jpg" alt="Git的四个组成部分"></p>
<h1 id="远程操作详解"><a href="#远程操作详解" class="headerlink" title="远程操作详解"></a>远程操作详解</h1><h2 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h2><p>远程操作的第一步，通常是从远程主机克隆一个版本库，这时就要用到<code>git clone</code>命令。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone &lt;版本库的网址&gt;</span><br></pre></td></tr></table></figure>

<p>比如：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/cayzlh/Scaffold.git</span><br></pre></td></tr></table></figure>

<p>该命令会在本地主机生成一个目录，与远程主机的版本库同名。如果要指定不同的目录名，可以将目录名作为<code>git clone</code>命令的第二个参数。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone &lt;版本库的网址&gt; &lt;本地目录名&gt;</span><br></pre></td></tr></table></figure>

<p><code>git clone</code>支持多种协议，除了HTTP(s)以外，还支持SSH、Git、本地文件协议等：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone http[s]://example.com/path/to/repo.git/</span><br><span class="line">git clone ssh://example.com/path/to/repo.git/</span><br><span class="line">git clone git://example.com/path/to/repo.git/</span><br><span class="line">git clone /opt/git/project.git </span><br><span class="line">git clone file:///opt/git/project.git</span><br><span class="line">git clone ftp[s]://example.com/path/to/repo.git/</span><br><span class="line">git clone rsync://example.com/path/to/repo.git/</span><br></pre></td></tr></table></figure>

<p>SSH协议还有另一种写法：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">clone</span> [user@]example.com:path/to/repo.git/</span></span><br></pre></td></tr></table></figure>

<h2 id="git-remote"><a href="#git-remote" class="headerlink" title="git remote"></a>git remote</h2><p>为了便于管理，<code>Git</code>要求每个远程主机都必须指定一个主机名。<code>git remote</code>命令就用于管理主机名。</p>
<p>不带选项的时候，<code>git remote</code>命令列出所有远程主机。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git remote</span><br><span class="line">origin</span><br></pre></td></tr></table></figure>

<p>使用<code>-v</code>选项，可以参看远程主机的网址。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git remote -v</span><br><span class="line">origin	https://github.com/cayzlh/Scaffold.git (fetch)</span><br><span class="line">origin	https://github.com/cayzlh/Scaffold.git (push)</span><br></pre></td></tr></table></figure>

<p>当前只有一台远程主机，叫做origin，以及它的网址。</p>
<p>克隆版本库的时候，所使用的远程主机自动被Git命名为<code>origin</code>。如果想用其他的主机名，需要用<code>git clone</code>命令的<code>-o</code>选项指定。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone -o Scaffold https://github.com/cayzlh/Scaffold.git</span><br><span class="line">git remote</span><br><span class="line">Scaffold</span><br></pre></td></tr></table></figure>

<p><code>git remote show</code>命令加上主机名，可以查看该主机的详细信息。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git remote show &lt;主机名&gt;</span><br></pre></td></tr></table></figure>

<p><code>git remote add</code>命令用于添加远程主机。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git remote add &lt;主机名&gt; &lt;网址&gt;</span><br></pre></td></tr></table></figure>

<p><code>git remote rm</code>命令用于删除远程主机。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git remote rm &lt;主机名&gt;</span><br></pre></td></tr></table></figure>

<p><code>git remote rename</code>命令用于远程主机的改名。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git remote rename &lt;原主机名&gt; &lt;新主机名&gt;</span><br></pre></td></tr></table></figure>

<h2 id="git-fetch"><a href="#git-fetch" class="headerlink" title="git fetch"></a>git fetch</h2><p>一旦远程主机的版本库有了更新（Git术语叫做commit），需要将这些更新取回本地，这时就要用到<code>git fetch</code>命令。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git fetch &lt;远程主机名&gt;</span><br></pre></td></tr></table></figure>

<p>这个命令表述将某个远程主机的更新，全部取回本地。</p>
<p>取回<code>origin</code>主机的<code>master</code>分支。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git fetch origin master</span><br></pre></td></tr></table></figure>

<p><code>git branch</code>命令的<code>-r</code>选项，可以用来查看远程分支，<code>-a</code>选项查看所有分支。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git branch -r</span><br><span class="line"></span><br><span class="line">origin/HEAD -&gt; origin/master</span><br><span class="line">origin/master</span><br></pre></td></tr></table></figure>

<p>上面命令表示，本地主机的当前分支是<code>master</code>，远程分支是<code>origin/master</code>。</p>
<p>取回远程主机的更新以后，可以在它的基础上，使用<code>git checkout</code>命令创建一个新的分支。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git checkout -b newBrach origin/master</span><br></pre></td></tr></table></figure>

<p>上面命令表示，在<code>origin/master</code>的基础上，创建一个新分支。</p>
<p>此外，也可以使用<code>git merge</code>命令或者<code>git rebase</code>命令，在本地分支上合并远程分支。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git merge origin/master</span><br><span class="line"><span class="meta">#</span><span class="bash"> 或者</span></span><br><span class="line">git rebase origin/master</span><br></pre></td></tr></table></figure>

<p>上面命令表示在当前分支上，合并<code>origin/master</code>。</p>
<h2 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h2><p><code>git pull</code>命令的作用是，取回远程主机某个分支的更新，再与本地的指定分支合并。它的完整格式稍稍有点复杂。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git pull &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt;</span><br></pre></td></tr></table></figure>

<p>比如，取回<code>origin</code>主机的<code>next</code>分支，与本地的<code>master</code>分支合并，需要写成下面这样。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git pull origin next:master</span><br></pre></td></tr></table></figure>

<p>如果远程分支是与当前分支合并，则冒号后面的部分可以省略。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git pull origin next</span><br></pre></td></tr></table></figure>

<p>上面命令表示，取回<code>origin/next</code>分支，再与当前分支合并。实质上，这等同于先做<code>git fetch</code>，再做<code>git merge</code>。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git fetch origin</span><br><span class="line">git merge origin/next</span><br></pre></td></tr></table></figure>

<p>在某些场合，Git会自动在本地分支与远程分支之间，建立一种追踪关系（tracking）。比如，在<code>git clone</code>的时候，所有本地分支默认与远程主机的同名分支，建立追踪关系，也就是说，本地的<code>master</code>分支自动”追踪”<code>origin/master</code>分支。</p>
<p>Git也允许手动建立追踪关系。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git branch --set-upstream master origin/next</span><br></pre></td></tr></table></figure>

<p>上面命令指定<code>master</code>分支追踪<code>origin/next</code>分支。</p>
<p>如果当前分支与远程分支存在追踪关系，<code>git pull</code>就可以省略远程分支名。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git pull origin</span><br></pre></td></tr></table></figure>

<p>上面命令表示，本地的当前分支自动与对应的<code>origin</code>主机”追踪分支”（remote-tracking branch）进行合并。</p>
<p>如果当前分支只有一个追踪分支，连远程主机名都可以省略。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure>

<p>上面命令表示，当前分支自动与唯一一个追踪分支进行合并。</p>
<p>如果合并需要采用rebase模式，可以使用<code>--rebase</code>选项。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git pull --rebase &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt;</span><br></pre></td></tr></table></figure>

<p>如果远程主机删除了某个分支，默认情况下，<code>git pull</code> 不会在拉取远程分支的时候，删除对应的本地分支。这是为了防止，由于其他人操作了远程主机，导致<code>git pull</code>不知不觉删除了本地分支。</p>
<p>但是，你可以改变这个行为，加上参数 <code>-p</code> 就会在本地删除远程已经删除的分支。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git pull -p</span><br><span class="line"><span class="meta">#</span><span class="bash"> 等同于下面的命令</span></span><br><span class="line">git fetch --prune origin </span><br><span class="line">git fetch -p</span><br></pre></td></tr></table></figure>

<h2 id="git-push"><a href="#git-push" class="headerlink" title="git push"></a>git push</h2><p><code>git push</code>命令用于将本地分支的更新，推送到远程主机。它的格式与<code>git pull</code>命令相仿。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git push &lt;远程主机名&gt; &lt;本地分支名&gt;:&lt;远程分支名&gt;</span><br></pre></td></tr></table></figure>

<p>注意，分支推送顺序的写法是&lt;来源地&gt;:&lt;目的地&gt;，所以<code>git pull</code>是&lt;远程分支&gt;:&lt;本地分支&gt;，而<code>git push</code>是&lt;本地分支&gt;:&lt;远程分支&gt;。</p>
<p>如果省略远程分支名，则表示将本地分支推送与之存在”追踪关系”的远程分支（通常两者同名），如果该远程分支不存在，则会被新建。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure>

<p>上面命令表示，将本地的<code>master</code>分支推送到<code>origin</code>主机的<code>master</code>分支。如果后者不存在，则会被新建。</p>
<p>如果省略本地分支名，则表示删除指定的远程分支，因为这等同于推送一个空的本地分支到远程分支。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git push origin :master</span><br><span class="line"><span class="meta">#</span><span class="bash"> 等同于</span></span><br><span class="line">git push origin --delete master</span><br></pre></td></tr></table></figure>

<p>上面命令表示删除<code>origin</code>主机的<code>master</code>分支。</p>
<p>如果当前分支与远程分支之间存在追踪关系，则本地分支和远程分支都可以省略。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git push origin</span><br></pre></td></tr></table></figure>

<p>上面命令表示，将当前分支推送到<code>origin</code>主机的对应分支。</p>
<p>如果当前分支只有一个追踪分支，那么主机名都可以省略。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git push</span><br></pre></td></tr></table></figure>

<p>如果当前分支与多个主机存在追踪关系，则可以使用<code>-u</code>选项指定一个默认主机，这样后面就可以不加任何参数使用<code>git push</code>。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<p>上面命令将本地的<code>master</code>分支推送到<code>origin</code>主机，同时指定<code>origin</code>为默认主机，后面就可以不加任何参数使用<code>git push</code>了。</p>
<p>不带任何参数的<code>git push</code>，默认只推送当前分支，这叫做simple方式。此外，还有一种matching方式，会推送所有有对应的远程分支的本地分支。Git 2.0版本之前，默认采用matching方法，现在改为默认采用simple方式。如果要修改这个设置，可以采用<code>git config</code>命令。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global push.default matching</span><br><span class="line"><span class="meta">#</span><span class="bash"> 或者</span></span><br><span class="line">git config --global push.default simple</span><br></pre></td></tr></table></figure>

<p>还有一种情况，就是不管是否存在对应的远程分支，将本地的所有分支都推送到远程主机，这时需要使用<code>--all</code>选项。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git push --all origin</span><br></pre></td></tr></table></figure>

<p>上面命令表示，将所有本地分支都推送到<code>origin</code>主机。</p>
<p>如果远程主机的版本比本地版本更新，推送时Git会报错，要求先在本地做<code>git pull</code>合并差异，然后再推送到远程主机。这时，如果你一定要推送，可以使用<code>--force</code>选项。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git push --force origin </span><br></pre></td></tr></table></figure>

<p>上面命令使用<code>--force</code>选项，结果导致远程主机上更新的版本被覆盖。除非你很确定要这样做，否则应该尽量避免使用<code>--force</code>选项。</p>
<p>最后，<code>git push</code>不会推送标签（tag），除非使用<code>--tags</code>选项。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git push origin --tags</span><br></pre></td></tr></table></figure>

<h1 id="速查手册"><a href="#速查手册" class="headerlink" title="速查手册"></a>速查手册</h1><h2 id="初始化仓库"><a href="#初始化仓库" class="headerlink" title="初始化仓库"></a>初始化仓库</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>

<h2 id="将文件添加到仓库"><a href="#将文件添加到仓库" class="headerlink" title="将文件添加到仓库"></a>将文件添加到仓库</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git add 文件名 # 将工作区的某个文件添加到暂存区   </span><br><span class="line">git add -u # 添加所有被tracked文件中被修改或删除的文件信息到暂存区，不处理untracked的文件</span><br><span class="line">git add -A # 添加所有被tracked文件中被修改或删除的文件信息到暂存区，包括untracked的文件</span><br><span class="line">git add . # 将当前工作区的所有文件都加入暂存区</span><br><span class="line">git add -i # 进入交互界面模式，按需添加文件到缓存区</span><br></pre></td></tr></table></figure>

<h2 id="将暂存区文件提交到本地仓库"><a href="#将暂存区文件提交到本地仓库" class="headerlink" title="将暂存区文件提交到本地仓库"></a>将暂存区文件提交到本地仓库</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git commit -m &quot;提交说明&quot; # 将暂存区内容提交到本地仓库</span><br><span class="line">git commit -a -m &quot;提交说明&quot; # 跳过缓存区操作，直接把工作区内容提交到本地仓库</span><br></pre></td></tr></table></figure>

<h2 id="查看仓库当前状态"><a href="#查看仓库当前状态" class="headerlink" title="查看仓库当前状态"></a>查看仓库当前状态</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>

<h2 id="比较文件异同"><a href="#比较文件异同" class="headerlink" title="比较文件异同"></a>比较文件异同</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git diff # 工作区与暂存区的差异</span><br><span class="line">git diff 分支名 #工作区与某分支的差异，远程分支这样写：remotes/origin/分支名</span><br><span class="line">git diff HEAD  # 工作区与HEAD指针指向的内容差异</span><br><span class="line">git diff 提交id 文件路径 # 工作区某文件当前版本与历史版本的差异</span><br><span class="line">git diff --stage # 工作区文件与上次提交的差异(1.6 版本前用 --cached)</span><br><span class="line">git diff 版本TAG # 查看从某个版本后都改动内容</span><br><span class="line">git diff 分支A 分支B # 比较从分支A和分支B的差异(也支持比较两个TAG)</span><br><span class="line">git diff 分支A...分支B # 比较两分支在分开后各自的改动</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 另外：如果只想统计哪些文件被改动，多少行被改动，可以添加 --<span class="built_in">stat</span> 参数</span></span><br></pre></td></tr></table></figure>

<h2 id="查看历史记录"><a href="#查看历史记录" class="headerlink" title="查看历史记录"></a>查看历史记录</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git log # 查看所有commit记录(SHA-A校验和，作者名称，邮箱，提交时间，提交说明)</span><br><span class="line">git log -p -次数 # 查看最近多少次的提交记录</span><br><span class="line">git log --stat # 简略显示每次提交的内容更改</span><br><span class="line">git log --name-only # 仅显示已修改的文件清单</span><br><span class="line">git log --name-status # 显示新增，修改，删除的文件清单</span><br><span class="line">git log --oneline # 让提交记录以精简的一行输出</span><br><span class="line">git log –graph –all --online # 图形展示分支的合并历史</span><br><span class="line">git log --author=作者  # 查询作者的提交记录(和grep同时使用要加一个--all--match参数)</span><br><span class="line">git log --grep=过滤信息 # 列出提交信息中包含过滤信息的提交记录</span><br><span class="line">git log -S查询内容 # 和--grep类似，S和查询内容间没有空格</span><br><span class="line">git log fileName # 查看某文件的修改记录，找背锅专用</span><br></pre></td></tr></table></figure>

<h2 id="代码回滚"><a href="#代码回滚" class="headerlink" title="代码回滚"></a>代码回滚</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git reset HEAD^ # 恢复成上次提交的版本</span><br><span class="line">git reset HEAD^^ # 恢复成上上次提交的版本，就是多个^，以此类推或用~次数</span><br><span class="line"></span><br><span class="line">git reflog</span><br><span class="line"></span><br><span class="line">git reset --hard 版本号</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> --soft：只是改变HEAD指针指向，缓存区和工作区不变；</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --mixed：修改HEAD指针指向，暂存区内容丢失，工作区不变；</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --hard：修改HEAD指针指向，暂存区内容丢失，工作区恢复以前状态；</span></span><br></pre></td></tr></table></figure>

<h2 id="同步远程仓库"><a href="#同步远程仓库" class="headerlink" title="同步远程仓库"></a>同步远程仓库</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<h2 id="删除版本库文件"><a href="#删除版本库文件" class="headerlink" title="删除版本库文件"></a>删除版本库文件</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git rm 文件名</span><br></pre></td></tr></table></figure>

<h2 id="版本库里的版本替换工作区的版本"><a href="#版本库里的版本替换工作区的版本" class="headerlink" title="版本库里的版本替换工作区的版本"></a>版本库里的版本替换工作区的版本</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git checkout -- test.txt</span><br></pre></td></tr></table></figure>

<h2 id="本地仓库内容推送到远程仓库"><a href="#本地仓库内容推送到远程仓库" class="headerlink" title="本地仓库内容推送到远程仓库"></a>本地仓库内容推送到远程仓库</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git remote add origin git@github.com:帐号名/仓库名.git</span><br></pre></td></tr></table></figure>

<h2 id="从远程仓库克隆项目到本地"><a href="#从远程仓库克隆项目到本地" class="headerlink" title="从远程仓库克隆项目到本地"></a>从远程仓库克隆项目到本地</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone git@github.com:git帐号名/仓库名.git</span><br></pre></td></tr></table></figure>

<h2 id="创建分支"><a href="#创建分支" class="headerlink" title="创建分支"></a>创建分支</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git checkout -b dev</span><br><span class="line"><span class="meta">#</span><span class="bash"> -b表示创建并切换分支</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 上面一条命令相当于一面的二条：</span></span><br><span class="line">git branch dev # 创建分支</span><br><span class="line">git checkout dev # 切换分支</span><br></pre></td></tr></table></figure>

<h2 id="查看分支"><a href="#查看分支" class="headerlink" title="查看分支"></a>查看分支</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure>

<h2 id="合并分支"><a href="#合并分支" class="headerlink" title="合并分支"></a>合并分支</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git merge dev</span><br><span class="line"><span class="meta">#</span><span class="bash"> 用于合并指定分支到当前分支</span></span><br><span class="line"></span><br><span class="line">git merge --no-ff -m &quot;merge with no-ff&quot; dev</span><br><span class="line"><span class="meta">#</span><span class="bash"> 加上--no-ff参数就可以用普通模式合并，合并后的历史有分支，能看出来曾经做过合并</span></span><br></pre></td></tr></table></figure>

<h2 id="删除分支"><a href="#删除分支" class="headerlink" title="删除分支"></a>删除分支</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git branch -d dev</span><br></pre></td></tr></table></figure>

<h2 id="查看分支合并图"><a href="#查看分支合并图" class="headerlink" title="查看分支合并图"></a>查看分支合并图</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git log --graph --pretty=oneline --abbrev-commit</span><br></pre></td></tr></table></figure>

<h2 id="查看远程库信息"><a href="#查看远程库信息" class="headerlink" title="查看远程库信息"></a>查看远程库信息</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git remote</span><br><span class="line"><span class="meta">#</span><span class="bash"> -v 显示更详细的信息</span></span><br></pre></td></tr></table></figure>

<h2 id="git相关配置"><a href="#git相关配置" class="headerlink" title="git相关配置"></a>git相关配置</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装完Git后第一件要做的事，设置用户信息(global可换成<span class="built_in">local</span>在单独项目生效)：</span></span><br><span class="line">git config --global user.name &quot;用户名&quot; # 设置用户名</span><br><span class="line">git config --global user.email &quot;用户邮箱&quot;   #设置邮箱</span><br><span class="line">git config --global user.name   # 查看用户名是否配置成功</span><br><span class="line">git config --global user.email   # 查看邮箱是否配置</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 其他查看配置相关</span></span><br><span class="line">git config --global --list  # 查看全局设置相关参数列表</span><br><span class="line">git config --local --list # 查看本地设置相关参数列表</span><br><span class="line">git config --system --list # 查看系统配置参数列表</span><br><span class="line">git config --list  # 查看所有Git的配置(全局+本地+系统)</span><br><span class="line">git config --global color.ui true //显示git相关颜色</span><br></pre></td></tr></table></figure>

<h2 id="撤消某次提交"><a href="#撤消某次提交" class="headerlink" title="撤消某次提交"></a>撤消某次提交</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git revert HEAD # 撤销最近的一个提交</span><br><span class="line">git revert 版本号 # 撤销某次commit</span><br></pre></td></tr></table></figure>

<h2 id="拉取远程分支到本地仓库"><a href="#拉取远程分支到本地仓库" class="headerlink" title="拉取远程分支到本地仓库"></a>拉取远程分支到本地仓库</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git checkout -b 本地分支 远程分支 # 会在本地新建分支，并自动切换到该分支</span><br><span class="line">git fetch origin 远程分支:本地分支 # 会在本地新建分支，但不会自动切换，还需checkout</span><br><span class="line">git branch --set-upstream 本地分支 远程分支 # 建立本地分支与远程分支的链接</span><br></pre></td></tr></table></figure>

<h2 id="标签命令"><a href="#标签命令" class="headerlink" title="标签命令"></a>标签命令</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git tag &lt;标签&gt; # 打标签命令，默认为HEAD</span><br><span class="line">git tag # 显示所有标签</span><br><span class="line">git tag &lt;标签 ?版本号&gt; # 给某个commit版本添加标签</span><br><span class="line">git show &lt;标签&gt; # 显示某个标签的详细信息</span><br></pre></td></tr></table></figure>

<h2 id="同步远程仓库更新"><a href="#同步远程仓库更新" class="headerlink" title="同步远程仓库更新"></a>同步远程仓库更新</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git fetch  origin master</span><br><span class="line"><span class="meta">#</span><span class="bash"> 从远程获取最新的到本地，首先从远程的origin的master主分支下载最新的版本到origin/master分支上，然后比较本地的master分支和origin/master分支的差别，最后进行合并。</span></span><br><span class="line"></span><br><span class="line">git fetch比git pull更加安全</span><br></pre></td></tr></table></figure>

<h1 id="不常见但实用的命令"><a href="#不常见但实用的命令" class="headerlink" title="不常见但实用的命令"></a>不常见但实用的命令</h1><h2 id="拉取远程代码并且覆盖本地更改"><a href="#拉取远程代码并且覆盖本地更改" class="headerlink" title="拉取远程代码并且覆盖本地更改"></a>拉取远程代码并且覆盖本地更改</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git fetch origin &amp;&amp; git reset –hard origin/master</span><br></pre></td></tr></table></figure>

<h2 id="列出远程和本地所有分支"><a href="#列出远程和本地所有分支" class="headerlink" title="列出远程和本地所有分支"></a>列出远程和本地所有分支</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git branch -a</span><br><span class="line">git branch -r</span><br></pre></td></tr></table></figure>

<h2 id="强制更新远程分支"><a href="#强制更新远程分支" class="headerlink" title="强制更新远程分支"></a>强制更新远程分支</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git push origin master -f</span><br></pre></td></tr></table></figure>

<h2 id="回滚一个-merge"><a href="#回滚一个-merge" class="headerlink" title="回滚一个 merge"></a>回滚一个 merge</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git revert -m 1 xxxx</span><br></pre></td></tr></table></figure>

<h2 id="修改之前的提交记录或者很久前提交的记录"><a href="#修改之前的提交记录或者很久前提交的记录" class="headerlink" title="修改之前的提交记录或者很久前提交的记录"></a>修改之前的提交记录或者很久前提交的记录</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git rebase –interactive ID^</span><br></pre></td></tr></table></figure>

<p>将需要修改的记录的 <code>pick</code> 改成 <code>edit</code>，执行更改：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git commit –all –amend</span><br><span class="line">git rebase –continue</span><br></pre></td></tr></table></figure>

<h2 id="使用多个远程代码库，并且使用多个不同的-SSH-Key"><a href="#使用多个远程代码库，并且使用多个不同的-SSH-Key" class="headerlink" title="使用多个远程代码库，并且使用多个不同的 SSH Key"></a>使用多个远程代码库，并且使用多个不同的 SSH Key</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Host bitbucket.org</span><br><span class="line">HostName bitbucket.org</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/id_rsa</span><br><span class="line">User git</span><br><span class="line"></span><br><span class="line">Host bitbucket.org-key2</span><br><span class="line">HostName bitbucket.org</span><br><span class="line">IdentityFile ~/.ssh/key2_id_rsa</span><br><span class="line">User git</span><br></pre></td></tr></table></figure>

<p>修改 <code>.git/config</code>：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[remote “origin”]</span><br><span class="line">url = git@bitbucket.org-key2:XXXX/yyyy.git</span><br><span class="line">fetch = +refs/heads/*:refs/remotes/origin/*</span><br></pre></td></tr></table></figure>

<h2 id="和外部团队协作需要的维护多个远程库，合并其他库的更新的过程"><a href="#和外部团队协作需要的维护多个远程库，合并其他库的更新的过程" class="headerlink" title="和外部团队协作需要的维护多个远程库，合并其他库的更新的过程"></a>和外部团队协作需要的维护多个远程库，合并其他库的更新的过程</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git remote rename origin upstream</span><br><span class="line">git remote add origin URL_TO_GITHUB_REPO</span><br><span class="line">git push origin master</span><br><span class="line">git pull upstream master &amp;&amp; git push origin master</span><br></pre></td></tr></table></figure>

<h2 id="撤销-Git-的最后一次提交"><a href="#撤销-Git-的最后一次提交" class="headerlink" title="撤销 Git 的最后一次提交"></a>撤销 Git 的最后一次提交</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git reset –soft HEAD~1</span><br></pre></td></tr></table></figure>

<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.ruanyifeng.com/">阮一峰的网络日志</a></li>
<li><strong>芋道源码</strong> 微信公众号</li>
</ul>


<div class="article-footer fs14"><section id="license"><div class="header"><span>许可协议</span></div><div class="body"><p>本文采用 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a> 许可协议，转载请注明出处。</p>
</div></section></div>

</article>

<div class="related-wrap" id="read-next"><section class="header cap theme"><span>接下来阅读</span></section><section class="body"><div class="post-title h2"><a href="/post/3385be1c/">使用个人公众号或IOS快捷指令发「动态」到hexo博客</a></div><div class="post-title fs14"><a href="/post/2487533199/">上一篇：nginx简单配置示例</a></div></section></div>


<div class="related-wrap" id="related-posts">
    <section class="header">
      <div class="title cap theme">您可能感兴趣的文章</div>
    </section>
    <section class="body">
    <div class="related-posts"><a class="item" href="/post/3721444167/" title="搭建Git服务器"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/cayzlh/git-img-repository@master/2021/04/16092916181285691618128569411.jpg"></div><span class="title">搭建Git服务器</span><span class="excerpt">记录一波搭建Git服务器的全过程.</span></a><a class="item" href="/post/669728936/" title="利用GitHub做图床"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/cayzlh/git-img-repository@master/2020/04/25/s7Rw7W.png"></div><span class="title">利用GitHub做图床</span><span class="excerpt">使用GitHub来做免费maven私服</span></a><a class="item" href="/post/71240450/" title="Linux搭建Git服务器"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/cayzlh/git-img-repository@master/2021/04/16092916181285691618128569411.jpg"></div><span class="title">Linux搭建Git服务器</span><span class="excerpt">Linux搭建Git服务器, 开始你的表演</span></a><a class="item" href="/post/20210402/" title="HomeBrew换源"><div class="img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cdn.jsdelivr.net/gh/cayzlh/git-img-repository@master/2021/04/22285116180649311618064931741.jpg"></div><span class="title">HomeBrew换源</span><span class="excerpt">HomeBrew换源</span></a></div></section></div>





      
<footer class="page-footer fs12" style="text-align: center;"><hr><div><p><a href="https://www.cayzlh.com/">🐳Ant丶</a> ©️ 2017-2021</p>
<p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://beian.miit.gov.cn/">粤ICP备20058712号</a></p>
</div></footer>

      <div class="float-panel mobile-only" style="display:none">
  <button type="button" class="sidebar-toggle mobile" onclick="sidebar.toggle()">
    <svg class="icon" viewbox="0 0 1228 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2849"><path d="M0 0m97.390199 0l973.901995 0q97.390199 0 97.390199 97.390199l0 0q0 97.390199-97.390199 97.3902l-973.901995 0q-97.390199 0-97.390199-97.3902l0 0q0-97.390199 97.390199-97.390199Z" p-id="2850"/><path d="M0 389.560798m97.390199 0l973.901995 0q97.390199 0 97.390199 97.390199l0 0q0 97.390199-97.390199 97.3902l-973.901995 0q-97.390199 0-97.390199-97.3902l0 0q0-97.390199 97.390199-97.390199Z" p-id="2851"/><path d="M0 779.121596m97.390199 0l973.901995 0q97.390199 0 97.390199 97.390199l0 0q0 97.390199-97.390199 97.390199l-973.901995 0q-97.390199 0-97.390199-97.390199l0 0q0-97.390199 97.390199-97.390199Z" p-id="2852"/></svg>
  </button>
</div>

    </div>
  </div>
  <div class="scripts">
    <script type="text/javascript">
  stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script')
      script.src = src
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.1.0';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js',
    sitesjs: '/js/plugins/sites.js',
    friendsjs: '/js/plugins/friends.js',
  };

  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.3.1/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper/swiper-bundle.min.css","js":"https://unpkg.com/swiper/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://cdn.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://cdn.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->

  <script>
  function utterances(){
    if(!document.getElementById("utterances"))return;
    setTimeout(function() {
      var checkUtterances = setInterval(function () {
        var el = document.getElementById("utterances");
        if (!el) return
        clearInterval(checkUtterances)
        try {
          el.innerHTML="";
        } catch (error) {}
        var script = document.createElement('script');
        script.src = 'https://utteranc.es/client.js';
        const keys = ['repo', 'issue-term', 'issue-number', 'theme', 'label', 'crossorigin'];
        keys.forEach((key, i) => {
          if (el.attributes[key] && el.attributes[key].value) {
            script.setAttribute(key, el.attributes[key].value);
          }
        });
        el.appendChild(script);
       }, 200)
    });
  }
  utterances();
</script>




<!-- inject -->


  </div>
</body>
</html>
