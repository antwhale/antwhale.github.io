<!DOCTYPE html>
<html lang="en">
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="Âú®Â≠¶ Java SE ÁöÑÊó∂ÂÄôÊàë‰ª¨Â≠¶‰π†‰∫Ü‰∏Ä‰∏™Ê†áÂáÜÁ±ª java.net.URLÔºåËØ•Á±ªÂú® Java SE ‰∏≠ÁöÑÂÆö‰Ωç‰∏∫Áªü‰∏ÄËµÑÊ∫êÂÆö‰ΩçÂô®ÔºàUniform Resource LocatorÔºâÔºå‰ΩÜÊòØÊàë‰ª¨Áü•ÈÅìÂÆÉÁöÑÂÆûÁé∞Âü∫Êú¨Âè™Èôê‰∫éÁΩëÁªúÂΩ¢ÂºèÂèëÂ∏ÉÁöÑËµÑÊ∫êÁöÑÊü•ÊâæÂíåÂÆö‰Ωç„ÄÇÁÑ∂ËÄåÔºåÂÆûÈôÖ‰∏äËµÑÊ∫êÁöÑÂÆö‰πâÊØîËæÉÂπøÊ≥õÔºåÈô§‰∫ÜÁΩëÁªúÂΩ¢ÂºèÁöÑËµÑÊ∫êÔºåËøòÊúâ‰ª•‰∫åËøõÂà∂ÂΩ¢ÂºèÂ≠òÂú®ÁöÑ„ÄÅ‰ª•Êñá‰ª∂ÂΩ¢ÂºèÂ≠òÂú®ÁöÑ„ÄÅ‰ª•Â≠óËäÇÊµÅÂΩ¢ÂºèÂ≠òÂú®ÁöÑÁ≠âÁ≠â„ÄÇËÄå‰∏îÂÆÉÂèØ‰ª•Â≠òÂú®‰∫é‰ªª‰ΩïÂú∫ÊâÄÔºåÊØîÂ¶ÇÁΩëÁªú„ÄÅÊñá‰ª∂Á≥ª">
<meta property="og:type" content="article">
<meta property="og:title" content="IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•">
<meta property="og:url" content="http://cmsblogs.com/?p=2656">
<meta property="og:site_name" content="CAYZLH">
<meta property="og:description" content="Âú®Â≠¶ Java SE ÁöÑÊó∂ÂÄôÊàë‰ª¨Â≠¶‰π†‰∫Ü‰∏Ä‰∏™Ê†áÂáÜÁ±ª java.net.URLÔºåËØ•Á±ªÂú® Java SE ‰∏≠ÁöÑÂÆö‰Ωç‰∏∫Áªü‰∏ÄËµÑÊ∫êÂÆö‰ΩçÂô®ÔºàUniform Resource LocatorÔºâÔºå‰ΩÜÊòØÊàë‰ª¨Áü•ÈÅìÂÆÉÁöÑÂÆûÁé∞Âü∫Êú¨Âè™Èôê‰∫éÁΩëÁªúÂΩ¢ÂºèÂèëÂ∏ÉÁöÑËµÑÊ∫êÁöÑÊü•ÊâæÂíåÂÆö‰Ωç„ÄÇÁÑ∂ËÄåÔºåÂÆûÈôÖ‰∏äËµÑÊ∫êÁöÑÂÆö‰πâÊØîËæÉÂπøÊ≥õÔºåÈô§‰∫ÜÁΩëÁªúÂΩ¢ÂºèÁöÑËµÑÊ∫êÔºåËøòÊúâ‰ª•‰∫åËøõÂà∂ÂΩ¢ÂºèÂ≠òÂú®ÁöÑ„ÄÅ‰ª•Êñá‰ª∂ÂΩ¢ÂºèÂ≠òÂú®ÁöÑ„ÄÅ‰ª•Â≠óËäÇÊµÅÂΩ¢ÂºèÂ≠òÂú®ÁöÑÁ≠âÁ≠â„ÄÇËÄå‰∏îÂÆÉÂèØ‰ª•Â≠òÂú®‰∫é‰ªª‰ΩïÂú∫ÊâÄÔºåÊØîÂ¶ÇÁΩëÁªú„ÄÅÊñá‰ª∂Á≥ª">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/cayzlh/git-img-repository@master/uPic/aN4Hdx.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/cayzlh/git-img-repository@master/uPic/R8Oaa0.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/cayzlh/git-img-repository@master/uPic/UnSrsV.jpg">
<meta property="article:published_time" content="2020-01-02T14:30:27.000Z">
<meta property="article:modified_time" content="2020-05-22T02:18:13.064Z">
<meta property="article:author" content="üê≥Ant‰∏∂">
<meta property="article:tag" content="Spring">
<meta property="article:tag" content="Ê≠ªÁ£ïSpring">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/cayzlh/git-img-repository@master/uPic/aN4Hdx.jpg">
    
    
      
        
          <link rel="shortcut icon" href="/blog/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/blog/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/blog/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/blog/css/rtl.css">

    
    <!-- rss -->
    
    
      <link rel="alternate" href="/blog/true" title="CAYZLH" type="application/atom+xml">
    
<meta name="generator" content="Hexo 5.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        
          <li><a href="/blog/">Home</a></li>
        
          <li><a href="/blog/archives/">Articles</a></li>
        
          <li><a href="/blog/about/">About</a></li>
        
          <li><a href="/blog/search/">Search</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/blog/2020/01/03/a6d994a0.html"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/blog/2020/01/01/a426e6ea.html"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
<!--        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>-->
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous</span>
      <span id="i-next" class="info" style="display:none;">Next</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.facebook.com/sharer.php?u=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://twitter.com/share?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&text=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.linkedin.com/shareArticle?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&title=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&is_video=false&description=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•&body=Check out this article: https://www.cayzlh.com/2020/01/02/8f7aa5ac.html"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://getpocket.com/save?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&title=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://reddit.com/submit?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&title=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.stumbleupon.com/submit?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&title=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://digg.com/submit?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&title=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.tumblr.com/share/link?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&name=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://news.ycombinator.com/submitlink?u=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&t=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%91%98%E8%A6%81"><span class="toc-number">1.</span> <span class="toc-text">ÊëòË¶Å</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E8%B5%84%E6%BA%90%EF%BC%9AResource"><span class="toc-number">2.</span> <span class="toc-text">Áªü‰∏ÄËµÑÊ∫êÔºöResource</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E8%B5%84%E6%BA%90%E5%AE%9A%E4%BD%8D-ResourceLoader"><span class="toc-number">3.</span> <span class="toc-text">Áªü‰∏ÄËµÑÊ∫êÂÆö‰Ωç(ResourceLoader)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DefaultResourceLoader"><span class="toc-number">3.1.</span> <span class="toc-text">DefaultResourceLoader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileSystemResourceLoader"><span class="toc-number">3.2.</span> <span class="toc-text">FileSystemResourceLoader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ResourcePatternResolver"><span class="toc-number">3.3.</span> <span class="toc-text">ResourcePatternResolver</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Resource-getResource-String-location"><span class="toc-number">3.3.1.</span> <span class="toc-text">Resource getResource(String location)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Resource-getResources-String-locationPattern"><span class="toc-number">3.3.2.</span> <span class="toc-text">Resource[] getResources(String locationPattern)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#findAllClassPathResources"><span class="toc-number">3.3.3.</span> <span class="toc-text">findAllClassPathResources()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#findAllClassPathResources-1"><span class="toc-number">3.3.4.</span> <span class="toc-text">findAllClassPathResources()</span></a></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">JavaÊäÄÊúØÈ©øÁ´ô-chenssy-„ÄêÊ≠ªÁ£ï Spring„Äë‚Äî‚Äì IOC ‰πã Spring Áªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2020-01-02T14:30:27.000Z" itemprop="datePublished">2020-01-02</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/blog/categories/Spring/">Spring</a> ‚Ä∫ <a class="category-link" href="/blog/categories/Spring/%E3%80%8ASpring%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E3%80%8B/">„ÄäSpringÊ∫êÁ†ÅÂàÜÊûê„Äã</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/blog/tags/Spring/" rel="tag">Spring</a>, <a class="tag-link-link" href="/blog/tags/%E6%AD%BB%E7%A3%95Spring/" rel="tag">Ê≠ªÁ£ïSpring</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="ÊëòË¶Å"><a href="#ÊëòË¶Å" class="headerlink" title="ÊëòË¶Å"></a>ÊëòË¶Å</h2><blockquote>
<p>Êú¨Êñá‰ΩúËÄÖÔºöchenssy</p>
<p>Âá∫Â§ÑÔºö<a target="_blank" rel="external nofollow noopener noreferrer" href="http://cmsblogs.com/?p=2656">http://cmsblogs.com/?p=2656</a></p>
<p>Âú®Â≠¶‰π†<code>SpringÊ∫êÁ†Å</code>ÁöÑËøáÁ®ã‰∏≠ÂèëÁé∞ÁöÑÂ•ΩÁ´ô+Â•ΩË¥¥ÔºåÊÑüË∞¢‰ΩúËÄÖ„ÄÇSpringÁâàÊú¨Ôºö<strong>Spring 5.0.6.RELEASE</strong></p>
</blockquote>
<p>ËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•ÈúÄË¶ÅÊª°Ë∂≥Â¶Ç‰∏ãË¶ÅÊ±ÇÔºö</p>
<ol>
<li>ËÅåËÉΩÂàíÂàÜÊ∏ÖÊ•ö„ÄÇËµÑÊ∫êÁöÑÂÆö‰πâÂíåËµÑÊ∫êÁöÑÂä†ËΩΩÂ∫îËØ•Ë¶ÅÊúâ‰∏Ä‰∏™Ê∏ÖÊô∞ÁöÑÁïåÈôêÔºõ</li>
<li>Áªü‰∏ÄÁöÑÊäΩË±°„ÄÇÁªü‰∏ÄÁöÑËµÑÊ∫êÂÆö‰πâÂíåËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•„ÄÇËµÑÊ∫êÂä†ËΩΩÂêéË¶ÅËøîÂõûÁªü‰∏ÄÁöÑÊäΩË±°ÁªôÂÆ¢Êà∑Á´ØÔºåÂÆ¢Êà∑Á´ØË¶ÅÂØπËµÑÊ∫êËøõË°åÊÄéÊ†∑ÁöÑÂ§ÑÁêÜÔºåÂ∫îËØ•Áî±ÊäΩË±°ËµÑÊ∫êÊé•Âè£Êù•ÁïåÂÆö„ÄÇ</li>
</ol>
<h2 id="Áªü‰∏ÄËµÑÊ∫êÔºöResource"><a href="#Áªü‰∏ÄËµÑÊ∫êÔºöResource" class="headerlink" title="Áªü‰∏ÄËµÑÊ∫êÔºöResource"></a>Áªü‰∏ÄËµÑÊ∫êÔºöResource</h2><p><code>org.springframework.core.io.Resource</code> ‰∏∫ Spring Ê°ÜÊû∂ÊâÄÊúâËµÑÊ∫êÁöÑÊäΩË±°ÂíåËÆøÈóÆÊé•Âè£ÔºåÂÆÉÁªßÊâø <code>org.springframework.core.io.InputStreamSource</code>Êé•Âè£„ÄÇ‰Ωú‰∏∫ÊâÄÊúâËµÑÊ∫êÁöÑÁªü‰∏ÄÊäΩË±°ÔºåSource ÂÆö‰πâ‰∫Ü‰∏Ä‰∫õÈÄöÁî®ÁöÑÊñπÊ≥ïÔºåÁî±Â≠êÁ±ª <code>AbstractResource</code> Êèê‰æõÁªü‰∏ÄÁöÑÈªòËÆ§ÂÆûÁé∞„ÄÇÂÆö‰πâÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Resource</span> <span class="keyword">extends</span> <span class="title">InputStreamSource</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ËµÑÊ∫êÊòØÂê¶Â≠òÂú®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">exists</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ËµÑÊ∫êÊòØÂê¶ÂèØËØª</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">boolean</span> <span class="title">isReadable</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ËµÑÊ∫êÊâÄ‰ª£Ë°®ÁöÑÂè•ÊüÑÊòØÂê¶Ë¢´‰∏Ä‰∏™streamÊâìÂºÄ‰∫Ü</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">boolean</span> <span class="title">isOpen</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ÊòØÂê¶‰∏∫ File</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">boolean</span> <span class="title">isFile</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ËøîÂõûËµÑÊ∫êÁöÑURLÁöÑÂè•ÊüÑ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">URL <span class="title">getURL</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ËøîÂõûËµÑÊ∫êÁöÑURIÁöÑÂè•ÊüÑ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">URI <span class="title">getURI</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ËøîÂõûËµÑÊ∫êÁöÑFileÁöÑÂè•ÊüÑ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">File <span class="title">getFile</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ËøîÂõû ReadableByteChannel</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> ReadableByteChannel <span class="title">readableChannel</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Channels.newChannel(getInputStream());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ËµÑÊ∫êÂÜÖÂÆπÁöÑÈïøÂ∫¶</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">long</span> <span class="title">contentLength</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ËµÑÊ∫êÊúÄÂêéÁöÑ‰øÆÊîπÊó∂Èó¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">long</span> <span class="title">lastModified</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Ê†πÊçÆËµÑÊ∫êÁöÑÁõ∏ÂØπË∑ØÂæÑÂàõÂª∫Êñ∞ËµÑÊ∫ê</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">Resource <span class="title">createRelative</span><span class="params">(String relativePath)</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ËµÑÊ∫êÁöÑÊñá‰ª∂Âêç</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    <span class="function">String <span class="title">getFilename</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ËµÑÊ∫êÁöÑÊèèËø∞</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">String <span class="title">getDescription</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Á±ªÁªìÊûÑÂõæÂ¶Ç‰∏ãÔºö</p>
<p><img src="https://cdn.jsdelivr.net/gh/cayzlh/git-img-repository@master/uPic/aN4Hdx.jpg" alt="aN4Hdx"></p>
<p>‰ªé‰∏äÂõæÂèØ‰ª•ÁúãÂà∞Ôºå<code>Resource</code> Ê†πÊçÆËµÑÊ∫êÁöÑ‰∏çÂêåÁ±ªÂûãÊèê‰æõ‰∏çÂêåÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÔºåÂ¶Ç‰∏ãÔºö</p>
<ul>
<li><strong>FileSystemResource</strong>ÔºöÂØπ <code>java.io.File</code> Á±ªÂûãËµÑÊ∫êÁöÑÂ∞ÅË£ÖÔºåÂè™Ë¶ÅÊòØË∑ü File Êâì‰∫§ÈÅìÁöÑÔºåÂü∫Êú¨‰∏ä‰∏é <code>FileSystemResource</code> ‰πüÂèØ‰ª•Êâì‰∫§ÈÅì„ÄÇÊîØÊåÅÊñá‰ª∂Âíå <code>URL</code> ÁöÑÂΩ¢ÂºèÔºåÂÆûÁé∞ <code>WritableResource</code> Êé•Âè£Ôºå‰∏î‰ªé <em><code>Spring Framework 5.0</code> ÂºÄÂßãÔºå<code>FileSystemResource</code> ‰ΩøÁî®<code>NIO.2 API</code>ËøõË°åËØª/ÂÜô‰∫§‰∫í</em></li>
<li><strong>ByteArrayResource</strong>ÔºöÂØπÂ≠óËäÇÊï∞ÁªÑÊèê‰æõÁöÑÊï∞ÊçÆÁöÑÂ∞ÅË£Ö„ÄÇÂ¶ÇÊûúÈÄöËøá <code>InputStream</code> ÂΩ¢ÂºèËÆøÈóÆËØ•Á±ªÂûãÁöÑËµÑÊ∫êÔºåËØ•ÂÆûÁé∞‰ºöÊ†πÊçÆÂ≠óËäÇÊï∞ÁªÑÁöÑÊï∞ÊçÆÊûÑÈÄ†‰∏Ä‰∏™Áõ∏Â∫îÁöÑ <code>ByteArrayInputStream</code>„ÄÇ</li>
<li><strong>UrlResource</strong>ÔºöÂØπ <code>java.net.URL</code>Á±ªÂûãËµÑÊ∫êÁöÑÂ∞ÅË£Ö„ÄÇÂÜÖÈÉ®ÂßîÊ¥æ URL ËøõË°åÂÖ∑‰ΩìÁöÑËµÑÊ∫êÊìç‰Ωú„ÄÇ</li>
<li><strong>ClassPathResource</strong>Ôºö<code>class path</code> Á±ªÂûãËµÑÊ∫êÁöÑÂÆûÁé∞„ÄÇ‰ΩøÁî®ÁªôÂÆöÁöÑ <code>ClassLoader</code> ÊàñËÄÖÁªôÂÆöÁöÑ <code>Class</code> Êù•Âä†ËΩΩËµÑÊ∫ê„ÄÇ</li>
<li><strong>InputStreamResource</strong>ÔºöÂ∞ÜÁªôÂÆöÁöÑ <code>InputStream</code> ‰Ωú‰∏∫‰∏ÄÁßçËµÑÊ∫êÁöÑ <code>Resource</code> ÁöÑÂÆûÁé∞Á±ª„ÄÇ</li>
</ul>
<p><code>AbstractResource</code> ‰∏∫ <code>Resource</code> Êé•Âè£ÁöÑÈªòËÆ§ÂÆûÁé∞ÔºåÂÆÉÂÆûÁé∞‰∫Ü Resource Êé•Âè£ÁöÑÂ§ßÈÉ®ÂàÜÁöÑÂÖ¨ÂÖ±ÂÆûÁé∞Ôºå‰Ωú‰∏∫ <code>Resource</code> Êé•Âè£‰∏≠ÁöÑÈáç‰∏≠‰πãÈáçÔºåÂÖ∂ÂÆö‰πâÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractResource</span> <span class="keyword">implements</span> <span class="title">Resource</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Âà§Êñ≠Êñá‰ª∂ÊòØÂê¶Â≠òÂú®ÔºåËã•Âà§Êñ≠ËøáÁ®ã‰∫ßÁîüÂºÇÂ∏∏ÔºàÂõ†‰∏∫‰ºöË∞ÉÁî®SecurityManagerÊù•Âà§Êñ≠ÔºâÔºåÂ∞±ÂÖ≥Èó≠ÂØπÂ∫îÁöÑÊµÅ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">exists</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> getFile().exists();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line">            <span class="comment">// Fall back to stream existence: can we open the stream?</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                InputStream is = getInputStream();</span><br><span class="line">                is.close();</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (Throwable isEx) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Áõ¥Êé•ËøîÂõûtrueÔºåË°®Á§∫ÂèØËØª</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isReadable</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Áõ¥Êé•ËøîÂõû falseÔºåË°®Á§∫Êú™Ë¢´ÊâìÂºÄ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isOpen</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  Áõ¥Êé•ËøîÂõûfalseÔºåË°®Á§∫‰∏ç‰∏∫ File</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isFile</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ÊäõÂá∫ FileNotFoundException ÂºÇÂ∏∏Ôºå‰∫§ÁªôÂ≠êÁ±ªÂÆûÁé∞</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> URL <span class="title">getURL</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException(getDescription() + <span class="string">&quot; cannot be resolved to URL&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Âü∫‰∫é getURL() ËøîÂõûÁöÑ URL ÊûÑÂª∫ URI</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> URI <span class="title">getURI</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        URL url = getURL();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> ResourceUtils.toURI(url);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (URISyntaxException ex) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NestedIOException(<span class="string">&quot;Invalid URI [&quot;</span> + url + <span class="string">&quot;]&quot;</span>, ex);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ÊäõÂá∫ FileNotFoundException ÂºÇÂ∏∏Ôºå‰∫§ÁªôÂ≠êÁ±ªÂÆûÁé∞</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> File <span class="title">getFile</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException(getDescription() </span><br><span class="line">                                        + <span class="string">&quot; cannot be resolved to absolute file path&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Ê†πÊçÆ getInputStream() ÁöÑËøîÂõûÁªìÊûúÊûÑÂª∫ ReadableByteChannel</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ReadableByteChannel <span class="title">readableChannel</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Channels.newChannel(getInputStream());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Ëé∑ÂèñËµÑÊ∫êÁöÑÈïøÂ∫¶</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * Ëøô‰∏™ËµÑÊ∫êÂÜÖÂÆπÈïøÂ∫¶ÂÆûÈôÖÂ∞±ÊòØËµÑÊ∫êÁöÑÂ≠óËäÇÈïøÂ∫¶ÔºåÈÄöËøáÂÖ®ÈÉ®ËØªÂèñ‰∏ÄÈÅçÊù•Âà§Êñ≠</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">contentLength</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        InputStream is = getInputStream();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">long</span> size = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">255</span>];</span><br><span class="line">            <span class="keyword">int</span> read;</span><br><span class="line">            <span class="keyword">while</span> ((read = is.read(buf)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                size += read;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> size;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                is.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ËøîÂõûËµÑÊ∫êÊúÄÂêéÁöÑ‰øÆÊîπÊó∂Èó¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">lastModified</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> lastModified = getFileForLastModifiedCheck().lastModified();</span><br><span class="line">        <span class="keyword">if</span> (lastModified == <span class="number">0L</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException(</span><br><span class="line">              getDescription()</span><br><span class="line">              +</span><br><span class="line">              <span class="string">&quot; cannot be resolved in the file system for resolving its last-modified timestamp&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> lastModified;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> File <span class="title">getFileForLastModifiedCheck</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getFile();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ‰∫§ÁªôÂ≠êÁ±ªÂÆûÁé∞</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Resource <span class="title">createRelative</span><span class="params">(String relativePath)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException(</span><br><span class="line">          <span class="string">&quot;Cannot create a relative resource for &quot;</span> </span><br><span class="line">          + getDescription());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Ëé∑ÂèñËµÑÊ∫êÂêçÁß∞ÔºåÈªòËÆ§ËøîÂõû null</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getFilename</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ËøîÂõûËµÑÊ∫êÁöÑÊèèËø∞</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getDescription();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (obj == <span class="keyword">this</span> ||</span><br><span class="line">            (obj <span class="keyword">instanceof</span> Resource &amp;&amp; ((Resource) obj)</span><br><span class="line">             .getDescription().equals(getDescription())));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getDescription().hashCode();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Â¶ÇÊûúÊàë‰ª¨ÊÉ≥Ë¶ÅÂÆûÁé∞Ëá™ÂÆö‰πâÁöÑ <code>Resource</code>ÔºåËÆ∞‰Ωè‰∏çË¶ÅÂÆûÁé∞ <code>Resource</code> Êé•Âè£ÔºåËÄåÂ∫îËØ•ÁªßÊâø <code>AbstractResource</code> ÊäΩË±°Á±ªÔºåÁÑ∂ÂêéÊ†πÊçÆÂΩìÂâçÁöÑÂÖ∑‰ΩìËµÑÊ∫êÁâπÊÄßË¶ÜÁõñÁõ∏Â∫îÁöÑÊñπÊ≥ïÂç≥ÂèØ„ÄÇ</p>
<h2 id="Áªü‰∏ÄËµÑÊ∫êÂÆö‰Ωç-ResourceLoader"><a href="#Áªü‰∏ÄËµÑÊ∫êÂÆö‰Ωç-ResourceLoader" class="headerlink" title="Áªü‰∏ÄËµÑÊ∫êÂÆö‰Ωç(ResourceLoader)"></a>Áªü‰∏ÄËµÑÊ∫êÂÆö‰Ωç(ResourceLoader)</h2><p>‰∏ÄÂºÄÂßãÂ∞±ËØ¥‰∫Ü <code>Spring</code> Â∞ÜËµÑÊ∫êÁöÑÂÆö‰πâÂíåËµÑÊ∫êÁöÑÂä†ËΩΩÂå∫ÂàÜÂºÄ‰∫ÜÔºå<code>Resource</code> ÂÆö‰πâ‰∫ÜÁªü‰∏ÄÁöÑËµÑÊ∫êÔºåÈÇ£ËµÑÊ∫êÁöÑÂä†ËΩΩÂàôÁî± <code>ResourceLoader</code> Êù•Áªü‰∏ÄÂÆö‰πâ„ÄÇ</p>
<p><code>org.springframework.core.io.ResourceLoader</code> ‰∏∫ <code>Spring</code> ËµÑÊ∫êÂä†ËΩΩÁöÑÁªü‰∏ÄÊäΩË±°ÔºåÂÖ∑‰ΩìÁöÑËµÑÊ∫êÂä†ËΩΩÂàôÁî±Áõ∏Â∫îÁöÑÂÆûÁé∞Á±ªÊù•ÂÆåÊàêÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Â∞Ü <code>ResourceLoader</code> Áß∞‰Ωú‰∏∫Áªü‰∏ÄËµÑÊ∫êÂÆö‰ΩçÂô®„ÄÇÂÖ∂ÂÆö‰πâÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ResourceLoader</span> </span>&#123;</span><br><span class="line">    String CLASSPATH_URL_PREFIX = ResourceUtils.CLASSPATH_URL_PREFIX;</span><br><span class="line"></span><br><span class="line">    <span class="function">Resource <span class="title">getResource</span><span class="params">(String location)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">ClassLoader <span class="title">getClassLoader</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>ResourceLoader</code> Êé•Âè£Êèê‰æõ‰∏§‰∏™ÊñπÊ≥ïÔºö<code>getResource()</code>„ÄÅ<code>getClassLoader()</code>„ÄÇ</p>
<p><code>getResource()</code>Ê†πÊçÆÊâÄÊèê‰æõËµÑÊ∫êÁöÑË∑ØÂæÑ <code>location</code> ËøîÂõû <code>Resource</code> ÂÆû‰æãÔºå‰ΩÜÊòØÂÆÉ‰∏çÁ°Æ‰øùËØ• <code>Resource</code> ‰∏ÄÂÆöÂ≠òÂú®ÔºåÈúÄË¶ÅË∞ÉÁî® <code>Resource.exist()</code>ÊñπÊ≥ïÂà§Êñ≠„ÄÇËØ•ÊñπÊ≥ïÊîØÊåÅ‰ª•‰∏ãÊ®°ÂºèÁöÑËµÑÊ∫êÂä†ËΩΩÔºö</p>
<ul>
<li>URL‰ΩçÁΩÆËµÑÊ∫êÔºåÂ¶Ç‚Äùfile:C:/test.dat‚Äù</li>
<li>ClassPath‰ΩçÁΩÆËµÑÊ∫êÔºåÂ¶Ç‚Äùclasspath:test.dat‚Äù</li>
<li>Áõ∏ÂØπË∑ØÂæÑËµÑÊ∫êÔºåÂ¶Ç‚ÄùWEB-INF/test.dat‚ÄùÔºåÊ≠§Êó∂ËøîÂõûÁöÑResourceÂÆû‰æãÊ†πÊçÆÂÆûÁé∞‰∏çÂêåËÄå‰∏çÂêå</li>
</ul>
<p>ËØ•ÊñπÊ≥ïÁöÑ‰∏ªË¶ÅÂÆûÁé∞ÊòØÂú®ÂÖ∂Â≠êÁ±ª <code>DefaultResourceLoader</code> ‰∏≠ÂÆûÁé∞ÔºåÂÖ∑‰ΩìËøáÁ®ãÊàë‰ª¨Âú®ÂàÜÊûê <code>DefaultResourceLoader</code> Êó∂ÂÅöËØ¶ÁªÜËØ¥Êòé„ÄÇ</p>
<p><code>getClassLoader()</code> ËøîÂõû <code>ClassLoader</code> ÂÆû‰æãÔºåÂØπ‰∫éÊÉ≥Ë¶ÅËé∑Âèñ <code>ResourceLoader</code> ‰ΩøÁî®ÁöÑ <code>ClassLoader</code> Áî®Êà∑Êù•ËØ¥ÔºåÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®ËØ•ÊñπÊ≥ïÊù•Ëé∑ÂèñÔºå</p>
<p>Âú®ÂàÜÊûê <code>Resource</code> Êó∂ÔºåÊèêÂà∞‰∫Ü‰∏Ä‰∏™Á±ª <code>ClassPathResource</code> ÔºåËøô‰∏™Á±ªÊòØÂèØ‰ª•Ê†πÊçÆÊåáÂÆöÁöÑ <code>ClassLoader</code> Êù•Âä†ËΩΩËµÑÊ∫êÁöÑ„ÄÇ</p>
<p>‰Ωú‰∏∫ <code>Spring</code> Áªü‰∏ÄÁöÑËµÑÊ∫êÂä†ËΩΩÂô®ÔºåÂÆÉÊèê‰æõ‰∫ÜÁªü‰∏ÄÁöÑÊäΩË±°ÔºåÂÖ∑‰ΩìÁöÑÂÆûÁé∞ÂàôÁî±Áõ∏Â∫îÁöÑÂ≠êÁ±ªÊù•Ë¥üË¥£ÂÆûÁé∞ÔºåÂÖ∂Á±ªÁöÑÁ±ªÁªìÊûÑÂõæÂ¶Ç‰∏ãÔºö</p>
<p><img src="https://cdn.jsdelivr.net/gh/cayzlh/git-img-repository@master/uPic/R8Oaa0.jpg" alt="R8Oaa0"></p>
<h3 id="DefaultResourceLoader"><a href="#DefaultResourceLoader" class="headerlink" title="DefaultResourceLoader"></a>DefaultResourceLoader</h3><p><code>DefaultResourceLoader</code> ÊòØ <code>ResourceLoader</code> ÁöÑÈªòËÆ§ÂÆûÁé∞ÔºåÂÆÉÊé•Êî∂ <code>ClassLoader</code> ‰Ωú‰∏∫ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂèÇÊï∞ÊàñËÄÖ‰ΩøÁî®‰∏çÂ∏¶ÂèÇÊï∞ÁöÑÊûÑÈÄ†ÂáΩÊï∞ÔºåÂú®‰ΩøÁî®‰∏çÂ∏¶ÂèÇÊï∞ÁöÑÊûÑÈÄ†ÂáΩÊï∞Êó∂Ôºå‰ΩøÁî®ÁöÑ <code>ClassLoader</code> ‰∏∫ÈªòËÆ§ÁöÑ <code>ClassLoader</code>Ôºà‰∏ÄËà¨‰∏∫<code>Thread.currentThread().getContextClassLoader()</code>ÔºâÔºåÂèØ‰ª•ÈÄöËøá <code>ClassUtils.getDefaultClassLoader()</code>Ëé∑Âèñ„ÄÇÂΩìÁÑ∂‰πüÂèØ‰ª•Ë∞ÉÁî® <code>setClassLoader()</code>ÊñπÊ≥ïËøõË°åÂêéÁª≠ËÆæÁΩÆ„ÄÇÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">DefaultResourceLoader</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.classLoader = ClassUtils.getDefaultClassLoader();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">DefaultResourceLoader</span><span class="params">(<span class="meta">@Nullable</span> ClassLoader classLoader)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.classLoader = classLoader;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setClassLoader</span><span class="params">(<span class="meta">@Nullable</span> ClassLoader classLoader)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.classLoader = classLoader;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Nullable</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ClassLoader <span class="title">getClassLoader</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (<span class="keyword">this</span>.classLoader != <span class="keyword">null</span> ? <span class="keyword">this</span>.classLoader : </span><br><span class="line">          ClassUtils.getDefaultClassLoader());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>ResourceLoader</code> ‰∏≠ÊúÄÊ†∏ÂøÉÁöÑÊñπÊ≥ï‰∏∫ <code>getResource()</code>,ÂÆÉÊ†πÊçÆÊèê‰æõÁöÑ <code>location</code> ËøîÂõûÁõ∏Â∫îÁöÑ <code>Resource</code>ÔºåËÄå <code>DefaultResourceLoader</code> ÂØπËØ•ÊñπÊ≥ïÊèê‰æõ‰∫ÜÊ†∏ÂøÉÂÆûÁé∞(ÂÆÉÁöÑ‰∏§‰∏™Â≠êÁ±ªÈÉΩÊ≤°ÊúâÊèê‰æõË¶ÜÁõñËØ•ÊñπÊ≥ïÔºåÊâÄ‰ª•ÂèØ‰ª•Êñ≠ÂÆö<code>ResourceLoader</code> ÁöÑËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•Â∞±Â∞ÅË£Ö <code>DefaultResourceLoader</code>‰∏≠)ÔºåÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Resource <span class="title">getResource</span><span class="params">(String location)</span> </span>&#123;</span><br><span class="line">  Assert.notNull(location, <span class="string">&quot;Location must not be null&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (ProtocolResolver protocolResolver : <span class="keyword">this</span>.protocolResolvers) &#123;</span><br><span class="line">    Resource resource = protocolResolver.resolve(location, <span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">if</span> (resource != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> resource;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (location.startsWith(<span class="string">&quot;/&quot;</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> getResourceByPath(location);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (location.startsWith(CLASSPATH_URL_PREFIX)) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ClassPathResource(location.substring(</span><br><span class="line">      CLASSPATH_URL_PREFIX.length()), getClassLoader());</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// Try to parse the location as a URL...</span></span><br><span class="line">      URL url = <span class="keyword">new</span> URL(location);</span><br><span class="line">      <span class="keyword">return</span> (ResourceUtils.isFileURL(url) ? </span><br><span class="line">              <span class="keyword">new</span> FileUrlResource(url) : <span class="keyword">new</span> UrlResource(url));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (MalformedURLException ex) &#123;</span><br><span class="line">      <span class="comment">// No URL -&gt; resolve as resource path.</span></span><br><span class="line">      <span class="keyword">return</span> getResourceByPath(location);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>È¶ñÂÖàÈÄöËøá <code>ProtocolResolver</code> Êù•Âä†ËΩΩËµÑÊ∫êÔºåÊàêÂäüËøîÂõû <code>Resource</code>ÔºåÂê¶ÂàôË∞ÉÁî®Â¶Ç‰∏ãÈÄªËæëÔºö</p>
<ul>
<li>Ëã• <code>location</code> ‰ª• / ÂºÄÂ§¥ÔºåÂàôË∞ÉÁî® <code>getResourceByPath()</code>ÊûÑÈÄ† <code>ClassPathContextResource</code> Á±ªÂûãËµÑÊ∫êÂπ∂ËøîÂõû„ÄÇ</li>
<li>Ëã• <code>location</code> ‰ª• <code>classpath</code>: ÂºÄÂ§¥ÔºåÂàôÊûÑÈÄ† <code>ClassPathResource</code> Á±ªÂûãËµÑÊ∫êÂπ∂ËøîÂõûÔºåÂú®ÊûÑÈÄ†ËØ•ËµÑÊ∫êÊó∂ÔºåÈÄöËøá <code>getClassLoader()</code>Ëé∑ÂèñÂΩìÂâçÁöÑ <code>ClassLoader</code>„ÄÇ</li>
<li>ÊûÑÈÄ† <code>URL</code> ÔºåÂ∞ùËØïÈÄöËøáÂÆÉËøõË°åËµÑÊ∫êÂÆö‰ΩçÔºåËã•Ê≤°ÊúâÊäõÂá∫ <code>MalformedURLException</code> ÂºÇÂ∏∏ÔºåÂàôÂà§Êñ≠ÊòØÂê¶‰∏∫ <code>FileURL</code> , Â¶ÇÊûúÊòØÂàôÊûÑÈÄ† <code>FileUrlResource</code> Á±ªÂûãËµÑÊ∫êÔºåÂê¶ÂàôÊûÑÈÄ† <code>UrlResource</code>„ÄÇËã•Âú®Âä†ËΩΩËøáÁ®ã‰∏≠ÊäõÂá∫ <code>MalformedURLException</code> ÂºÇÂ∏∏ÔºåÂàôÂßîÊ¥æ <code>getResourceByPath()</code> ÂÆûÁé∞ËµÑÊ∫êÂÆö‰ΩçÂä†ËΩΩ„ÄÇ</li>
</ul>
<p><code>ProtocolResolver</code> ÔºåÁî®Êà∑Ëá™ÂÆö‰πâÂçèËÆÆËµÑÊ∫êËß£ÂÜ≥Á≠ñÁï•Ôºå‰Ωú‰∏∫ <code>DefaultResourceLoader</code> ÁöÑ <strong>SPI</strong>ÔºåÂÆÉÂÖÅËÆ∏Áî®Êà∑Ëá™ÂÆö‰πâËµÑÊ∫êÂä†ËΩΩÂçèËÆÆÔºåËÄå‰∏çÈúÄË¶ÅÁªßÊâø <code>ResourceLoader</code> ÁöÑÂ≠êÁ±ª„ÄÇÂú®‰ªãÁªç <code>Resource</code> Êó∂ÔºåÊèêÂà∞Â¶ÇÊûúË¶ÅÂÆûÁé∞Ëá™ÂÆö‰πâ <code>Resource</code>ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÁªßÊâø <code>DefaultResource</code> Âç≥ÂèØÔºå‰ΩÜÊòØÊúâ‰∫Ü <code>ProtocolResolver</code> ÂêéÔºåÊàë‰ª¨‰∏çÈúÄË¶ÅÁõ¥Êé•ÁªßÊâø <code>DefaultResourceLoader</code>ÔºåÊîπ‰∏∫ÂÆûÁé∞ <code>ProtocolResolver</code> Êé•Âè£‰πüÂèØ‰ª•ÂÆûÁé∞Ëá™ÂÆö‰πâÁöÑ <code>ResourceLoader</code>„ÄÇ <code>ProtocolResolver</code> Êé•Âè£Ôºå‰ªÖÊúâ‰∏Ä‰∏™ÊñπÊ≥ï <code>Resource resolve(String location, ResourceLoader resourceLoader)</code>ÔºåËØ•ÊñπÊ≥ïÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ÔºöËµÑÊ∫êË∑ØÂæÑ<code>location</code>ÔºåÊåáÂÆöÁöÑÂä†ËΩΩÂô® <code>ResourceLoader</code>ÔºåËøîÂõû‰∏∫Áõ∏Â∫îÁöÑ <code>Resource</code> „ÄÇÂú® <code>Spring</code> ‰∏≠‰Ω†‰ºöÂèëÁé∞ËØ•Êé•Âè£Âπ∂Ê≤°ÊúâÂÆûÁé∞Á±ªÔºåÂÆÉÈúÄË¶ÅÁî®Êà∑Ëá™ÂÆö‰πâÔºåËá™ÂÆö‰πâÁöÑ <code>Resolver</code> Â¶Ç‰ΩïÂä†ÂÖ• Spring ‰ΩìÁ≥ªÂë¢ÔºüË∞ÉÁî® <code>DefaultResourceLoader.addProtocolResolver()</code> Âç≥ÂèØÔºåÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addProtocolResolver</span><span class="params">(ProtocolResolver resolver)</span> </span>&#123;</span><br><span class="line">  Assert.notNull(resolver, <span class="string">&quot;ProtocolResolver must not be null&quot;</span>);</span><br><span class="line">  <span class="keyword">this</span>.protocolResolvers.add(resolver);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>‰∏ãÈù¢Á§∫‰æãÊòØÊºîÁ§∫ <code>DefaultResourceLoader</code> Âä†ËΩΩËµÑÊ∫êÁöÑÂÖ∑‰ΩìÁ≠ñÁï•Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºà<em>ËØ•Á§∫‰æãÂèÇËÄÉ„ÄäSpring Ëß£ÂØÜ„Äã P89</em>ÔºâÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ResourceLoader resourceLoader = <span class="keyword">new</span> DefaultResourceLoader();</span><br><span class="line"></span><br><span class="line">Resource fileResource1 = resourceLoader.getResource(<span class="string">&quot;D:/Users/chenming673/Documents/spark.txt&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;fileResource1 is FileSystemResource:&quot;</span> </span><br><span class="line">                   + (fileResource1 <span class="keyword">instanceof</span> FileSystemResource));</span><br><span class="line"></span><br><span class="line">Resource fileResource2 = resourceLoader.getResource(<span class="string">&quot;/Users/chenming673/Documents/spark.txt&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;fileResource2 is ClassPathResource:&quot;</span> </span><br><span class="line">                   + (fileResource2 <span class="keyword">instanceof</span> ClassPathResource));</span><br><span class="line"></span><br><span class="line">Resource urlResource1 = resourceLoader.getResource(<span class="string">&quot;file:/Users/chenming673/Documents/spark.txt&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;urlResource1 is UrlResource:&quot;</span> </span><br><span class="line">                   + (urlResource1 <span class="keyword">instanceof</span> UrlResource));</span><br><span class="line"></span><br><span class="line">Resource urlResource2 = resourceLoader.getResource(<span class="string">&quot;http://www.baidu.com&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;urlResource1 is urlResource:&quot;</span> </span><br><span class="line">                   + (urlResource2 <span class="keyword">instanceof</span>  UrlResource));</span><br></pre></td></tr></table></figure>
<p>ËøêË°åÁªìÊûúÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fileResource1 is FileSystemResource:<span class="keyword">false</span></span><br><span class="line">fileResource2 is ClassPathResource:<span class="keyword">true</span></span><br><span class="line">urlResource1 is UrlResource:<span class="keyword">true</span></span><br><span class="line">urlResource1 is urlResource:<span class="keyword">true</span></span><br></pre></td></tr></table></figure>
<p>ÂÖ∂ÂÆûÂØπ‰∫é fileResource1 Êàë‰ª¨Êõ¥Âä†Â∏åÊúõÊòØ FileSystemResource ËµÑÊ∫êÁ±ªÂûãÔºå‰ΩÜÊòØ‰∫ã‰∏éÊÑøËøùÔºåÂÆÉÊòØ ClassPathResource Á±ªÂûã„ÄÇÂú®<code>getResource()</code>ËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•‰∏≠ÔºåÊàë‰ª¨Áü•ÈÅì <code>D:/Users/chenming673/Documents/spark.txt</code>ËµÑÊ∫êÂÖ∂ÂÆûÂú®ËØ•ÊñπÊ≥ï‰∏≠Ê≤°ÊúâÁõ∏Â∫îÁöÑËµÑÊ∫êÁ±ªÂûãÔºåÈÇ£‰πàÂÆÉÂ∞±‰ºöÂú®ÊäõÂá∫ <code>MalformedURLException</code> ÂºÇÂ∏∏Êó∂ÈÄöËøá <code>getResourceByPath()</code> ÊûÑÈÄ†‰∏Ä‰∏™ <code>ClassPathResource</code> Á±ªÂûãÁöÑËµÑÊ∫ê„ÄÇËÄåÊåáÂÆöÊúâÂçèËÆÆÂâçÁºÄÁöÑËµÑÊ∫êË∑ØÂæÑÔºåÂàôÈÄöËøá <code>URL</code> Â∞±ÂèØ‰ª•ÂÆö‰πâÔºåÊâÄ‰ª•ËøîÂõûÁöÑÈÉΩÊòØ<code>UrlResource</code>Á±ªÂûã„ÄÇ</p>
<h3 id="FileSystemResourceLoader"><a href="#FileSystemResourceLoader" class="headerlink" title="FileSystemResourceLoader"></a>FileSystemResourceLoader</h3><p>‰ªé‰∏äÈù¢ÁöÑÁ§∫‰æãÊàë‰ª¨ÁúãÂà∞ÔºåÂÖ∂ÂÆû <code>DefaultResourceLoader</code> ÂØπ<code>getResourceByPath(String)</code>ÊñπÊ≥ïÂ§ÑÁêÜÂÖ∂ÂÆû‰∏çÊòØÂæàÊÅ∞ÂΩìÔºåËøô‰∏™Êó∂ÂÄôÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® <code>FileSystemResourceLoader</code> ÔºåÂÆÉÁªßÊâø <code>DefaultResourceLoader</code> ‰∏îË¶ÜÂÜô‰∫Ü <code>getResourceByPath(String)</code>Ôºå‰Ωø‰πã‰ªéÊñá‰ª∂Á≥ªÁªüÂä†ËΩΩËµÑÊ∫êÂπ∂‰ª• <code>FileSystemResource</code> Á±ªÂûãËøîÂõûÔºåËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•ÂæóÂà∞ÊÉ≥Ë¶ÅÁöÑËµÑÊ∫êÁ±ªÂûãÔºåÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> Resource <span class="title">getResourceByPath</span><span class="params">(String path)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (path.startsWith(<span class="string">&quot;/&quot;</span>)) &#123;</span><br><span class="line">    path = path.substring(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> FileSystemContextResource(path);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>FileSystemContextResource</code> ‰∏∫ <code>FileSystemResourceLoader</code> ÁöÑÂÜÖÈÉ®Á±ªÔºåÂÆÉÁªßÊâø <code>FileSystemResource</code>„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">FileSystemContextResource</span> <span class="keyword">extends</span> <span class="title">FileSystemResource</span> </span></span><br><span class="line"><span class="class">  <span class="keyword">implements</span> <span class="title">ContextResource</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">FileSystemContextResource</span><span class="params">(String path)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>(path);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getPathWithinContext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getPath();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Âú®ÊûÑÈÄ†Âô®‰∏≠‰πüÊòØË∞ÉÁî® <code>FileSystemResource</code> ÁöÑÊûÑÈÄ†ÊñπÊ≥ïÊù•ÊûÑÈÄ† <code>FileSystemContextResource</code> ÁöÑ„ÄÇ</p>
<p>Â¶ÇÊûúÂ∞Ü‰∏äÈù¢ÁöÑÁ§∫‰æãÂ∞Ü <code>DefaultResourceLoader</code> Êîπ‰∏∫ <code>FileSystemContextResource</code> ÔºåÂàô <code>fileResource1</code> Âàô‰∏∫ <code>FileSystemResource</code>„ÄÇ</p>
<h3 id="ResourcePatternResolver"><a href="#ResourcePatternResolver" class="headerlink" title="ResourcePatternResolver"></a>ResourcePatternResolver</h3><p><code>ResourceLoader</code> ÁöÑ <code>Resource getResource(String location)</code> ÊØèÊ¨°Âè™ËÉΩÊ†πÊçÆ <code>location</code> ËøîÂõû‰∏Ä‰∏™ ResourceÔºåÂΩìÈúÄË¶ÅÂä†ËΩΩÂ§ö‰∏™ËµÑÊ∫êÊó∂ÔºåÊàë‰ª¨Èô§‰∫ÜÂ§öÊ¨°Ë∞ÉÁî® <code>getResource()</code> Â§ñÂà´Êó†‰ªñÊ≥ï„ÄÇ<code>ResourcePatternResolver</code> ÊòØ <code>ResourceLoader</code> ÁöÑÊâ©Â±ïÔºåÂÆÉÊîØÊåÅÊ†πÊçÆÊåáÂÆöÁöÑËµÑÊ∫êË∑ØÂæÑÂåπÈÖçÊ®°ÂºèÊØèÊ¨°ËøîÂõûÂ§ö‰∏™ <code>Resource</code> ÂÆû‰æãÔºåÂÖ∂ÂÆö‰πâÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ResourcePatternResolver</span> <span class="keyword">extends</span> <span class="title">ResourceLoader</span> </span>&#123;</span><br><span class="line">    String CLASSPATH_ALL_URL_PREFIX = <span class="string">&quot;classpath*:&quot;</span>;</span><br><span class="line"></span><br><span class="line">    Resource[] getResources(String locationPattern) <span class="keyword">throws</span> IOException;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>ResourcePatternResolver</code> Âú® <code>ResourceLoader</code> ÁöÑÂü∫Á°Ä‰∏äÂ¢ûÂä†‰∫Ü <code>getResources(String locationPattern)</code>Ôºå‰ª•ÊîØÊåÅÊ†πÊçÆË∑ØÂæÑÂåπÈÖçÊ®°ÂºèËøîÂõûÂ§ö‰∏™ <code>Resource</code> ÂÆû‰æãÔºåÂêåÊó∂‰πüÊñ∞Â¢û‰∫Ü‰∏ÄÁßçÊñ∞ÁöÑÂçèËÆÆÂâçÁºÄ <code>classpath*:</code>ÔºåËØ•ÂçèËÆÆÂâçÁºÄÁî±ÂÖ∂Â≠êÁ±ªË¥üË¥£ÂÆûÁé∞„ÄÇ</p>
<p><code>PathMatchingResourcePatternResolver</code> ‰∏∫ <code>ResourcePatternResolver</code> ÊúÄÂ∏∏Áî®ÁöÑÂ≠êÁ±ªÔºåÂÆÉÈô§‰∫ÜÊîØÊåÅ <code>ResourceLoader</code> Âíå <code>ResourcePatternResolver</code> Êñ∞Â¢ûÁöÑ *<em>classpath</em>:** ÂâçÁºÄÂ§ñÔºåËøòÊîØÊåÅ <code>Ant</code> È£éÊ†ºÁöÑË∑ØÂæÑÂåπÈÖçÊ®°ÂºèÔºàÁ±ª‰ºº‰∫é <code>**/*.xml</code>Ôºâ„ÄÇ</p>
<p><code>PathMatchingResourcePatternResolver</code> Êèê‰æõ‰∫Ü‰∏â‰∏™ÊûÑÈÄ†ÊñπÊ≥ïÔºåÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">PathMatchingResourcePatternResolver</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.resourceLoader = <span class="keyword">new</span> DefaultResourceLoader();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">PathMatchingResourcePatternResolver</span><span class="params">(ResourceLoader resourceLoader)</span> </span>&#123;</span><br><span class="line">  Assert.notNull(resourceLoader, <span class="string">&quot;ResourceLoader must not be null&quot;</span>);</span><br><span class="line">  <span class="keyword">this</span>.resourceLoader = resourceLoader;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">PathMatchingResourcePatternResolver</span><span class="params">(<span class="meta">@Nullable</span> ClassLoader classLoader)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.resourceLoader = <span class="keyword">new</span> DefaultResourceLoader(classLoader);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>PathMatchingResourcePatternResolver</code> Âú®ÂÆû‰æãÂåñÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™ <code>ResourceLoader</code>ÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÁöÑËØùÔºåÂÆÉ‰ºöÂú®ÂÜÖÈÉ®ÊûÑÈÄ†‰∏Ä‰∏™ <code>DefaultResourceLoader</code>„ÄÇ</p>
<h4 id="Resource-getResource-String-location"><a href="#Resource-getResource-String-location" class="headerlink" title="Resource getResource(String location)"></a>Resource getResource(String location)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Resource <span class="title">getResource</span><span class="params">(String location)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> getResourceLoader().getResource(location);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>getResource()</code> ÊñπÊ≥ïÁõ¥Êé•ÂßîÊâòÁªôÁõ∏Â∫îÁöÑ <code>ResourceLoader</code> Êù•ÂÆûÁé∞ÔºåÊâÄ‰ª•Â¶ÇÊûúÊàë‰ª¨Âú®ÂÆû‰æãÂåñÁöÑ <code>PathMatchingResourcePatternResolver</code> ÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûú‰∏çÁü•ÈÅì <code>ResourceLoader</code> ÔºåÈÇ£‰πàÂú®Âä†ËΩΩËµÑÊ∫êÊó∂ÔºåÂÖ∂ÂÆûÂ∞±ÊòØ <code>DefaultResourceLoader</code> ÁöÑËøáÁ®ã„ÄÇÂÖ∂ÂÆûÂú®‰∏ãÈù¢‰ªãÁªçÁöÑ <code>Resource[] getResources(String locationPattern)</code> ‰πüÁõ∏ÂêåÔºåÂè™‰∏çËøáËøîÂõûÁöÑËµÑÊ∫êÊó∂Â§ö‰∏™ËÄåÂ∑≤„ÄÇ</p>
<h4 id="Resource-getResources-String-locationPattern"><a href="#Resource-getResources-String-locationPattern" class="headerlink" title="Resource[] getResources(String locationPattern)"></a>Resource[] getResources(String locationPattern)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Resource[] getResources(String locationPattern) <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">  Assert.notNull(locationPattern, <span class="string">&quot;Location pattern must not be null&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ‰ª• classpath*: ÂºÄÂ§¥</span></span><br><span class="line">  <span class="keyword">if</span> (locationPattern.startsWith(CLASSPATH_ALL_URL_PREFIX)) &#123;</span><br><span class="line">    <span class="comment">// Ë∑ØÂæÑÂåÖÂê´ÈÄöÈÖçÁ¨¶</span></span><br><span class="line">    <span class="keyword">if</span> (getPathMatcher()</span><br><span class="line">        .isPattern(locationPattern.substring(CLASSPATH_ALL_URL_PREFIX.length()))) &#123;</span><br><span class="line">      <span class="keyword">return</span> findPathMatchingResources(locationPattern);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// Ë∑ØÂæÑ‰∏çÂåÖÂê´ÈÄöÈÖçÁ¨¶</span></span><br><span class="line">      <span class="keyword">return</span> findAllClassPathResources(</span><br><span class="line">        locationPattern.substring(CLASSPATH_ALL_URL_PREFIX.length()));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">int</span> prefixEnd = (</span><br><span class="line">      locationPattern.startsWith(<span class="string">&quot;war:&quot;</span>) ? locationPattern.indexOf(<span class="string">&quot;*/&quot;</span>) + <span class="number">1</span> :</span><br><span class="line">                     locationPattern.indexOf(<span class="string">&#x27;:&#x27;</span>) + <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// Ë∑ØÂæÑÂåÖÂê´ÈÄöÈÖçÁ¨¶</span></span><br><span class="line">    <span class="keyword">if</span> (getPathMatcher().isPattern(locationPattern.substring(prefixEnd))) &#123;</span><br><span class="line">      <span class="keyword">return</span> findPathMatchingResources(locationPattern);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> Resource[] &#123;getResourceLoader().getResource(locationPattern)&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Â§ÑÁêÜÈÄªËæëÂ¶Ç‰∏ãÂõæÔºö</p>
<p><img src="https://cdn.jsdelivr.net/gh/cayzlh/git-img-repository@master/uPic/UnSrsV.jpg" alt="UnSrsV"></p>
<p>‰∏ãÈù¢Â∞± <code>findAllClassPathResources()</code>ÂÅöËØ¶ÁªÜÂàÜÊûê„ÄÇ</p>
<h4 id="findAllClassPathResources"><a href="#findAllClassPathResources" class="headerlink" title="findAllClassPathResources()"></a>findAllClassPathResources()</h4><p>ÂΩì <code>locationPattern</code> ‰ª• *<em>classpath</em>:** ÂºÄÂ§¥‰ΩÜÊòØ‰∏çÂåÖÂê´ÈÄöÈÖçÁ¨¶ÔºåÂàôË∞ÉÁî®<code>findAllClassPathResources()</code> ÊñπÊ≥ïÂä†ËΩΩËµÑÊ∫ê„ÄÇËØ•ÊñπÊ≥ïËøîÂõû <code>classes</code> Ë∑ØÂæÑ‰∏ãÂíåÊâÄÊúâ <code>jar</code> ÂåÖ‰∏≠ÁöÑÊâÄÊúâÁõ∏ÂåπÈÖçÁöÑËµÑÊ∫ê„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> Resource[] findAllClassPathResources(String location) <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">  String path = location;</span><br><span class="line">  <span class="keyword">if</span> (path.startsWith(<span class="string">&quot;/&quot;</span>)) &#123;</span><br><span class="line">    path = path.substring(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  Set&lt;Resource&gt; result = doFindAllClassPathResources(path);</span><br><span class="line">  <span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line">    logger.debug(<span class="string">&quot;Resolved classpath location [&quot;</span> </span><br><span class="line">                 + location + <span class="string">&quot;] to resources &quot;</span> + result);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result.toArray(<span class="keyword">new</span> Resource[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÁúüÊ≠£ÊâßË°åÂä†ËΩΩÁöÑÊòØÂú® <code>doFindAllClassPathResources()</code>ÊñπÊ≥ïÔºåÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> Set&lt;Resource&gt; <span class="title">doFindAllClassPathResources</span><span class="params">(String path)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">  Set&lt;Resource&gt; result = <span class="keyword">new</span> LinkedHashSet&lt;&gt;(<span class="number">16</span>);</span><br><span class="line">  ClassLoader cl = getClassLoader();</span><br><span class="line">  Enumeration&lt;URL&gt; resourceUrls = (cl != <span class="keyword">null</span> ? cl.getResources(path) : </span><br><span class="line">                                   ClassLoader.getSystemResources(path));</span><br><span class="line">  <span class="keyword">while</span> (resourceUrls.hasMoreElements()) &#123;</span><br><span class="line">    URL url = resourceUrls.nextElement();</span><br><span class="line">    result.add(convertClassLoaderURL(url));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">&quot;&quot;</span>.equals(path)) &#123;</span><br><span class="line">    addAllClassLoaderJarRoots(cl, result);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>doFindAllClassPathResources()</code> Ê†πÊçÆ <code>ClassLoader</code> Âä†ËΩΩË∑ØÂæÑ‰∏ãÁöÑÊâÄÊúâËµÑÊ∫ê„ÄÇÂú®Âä†ËΩΩËµÑÊ∫êËøáÁ®ã‰∏≠Â¶ÇÊûúÔºåÂú®ÊûÑÈÄ† <code>PathMatchingResourcePatternResolver</code> ÂÆû‰æãÁöÑÊó∂ÂÄôÂ¶ÇÊûú‰º†ÂÖ•‰∫Ü <code>ClassLoader</code>ÔºåÂàôË∞ÉÁî®ÂÖ∂ <code>getResources()</code>ÔºåÂê¶ÂàôË∞ÉÁî®<code>ClassLoader.getSystemResources(path)</code>„ÄÇ <code>ClassLoader.getResources()</code>Â¶Ç‰∏ã:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Enumeration&lt;URL&gt; <span class="title">getResources</span><span class="params">(String name)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">  <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">  Enumeration&lt;URL&gt;[] tmp = (Enumeration&lt;URL&gt;[]) <span class="keyword">new</span> Enumeration&lt;?&gt;[<span class="number">2</span>];</span><br><span class="line">  <span class="keyword">if</span> (parent != <span class="keyword">null</span>) &#123;</span><br><span class="line">    tmp[<span class="number">0</span>] = parent.getResources(name);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    tmp[<span class="number">0</span>] = getBootstrapResources(name);</span><br><span class="line">  &#125;</span><br><span class="line">  tmp[<span class="number">1</span>] = findResources(name);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> CompoundEnumeration&lt;&gt;(tmp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÁúãÂà∞ËøôÈáåÊòØ‰∏çÊòØÂ∞±Â∑≤Áªè‰∏ÄÁõÆ‰∫ÜÁÑ∂‰∫ÜÔºüÂ¶ÇÊûúÂΩìÂâçÁà∂Á±ªÂä†ËΩΩÂô®‰∏ç‰∏∫ nullÔºåÂàôÈÄöËøáÁà∂Á±ªÂêë‰∏äËø≠‰ª£Ëé∑ÂèñËµÑÊ∫êÔºåÂê¶ÂàôË∞ÉÁî® <code>getBootstrapResources()</code>„ÄÇËøôÈáåÊòØ‰∏çÊòØÁâπÂà´ÁÜüÊÇâÔºå(<em>^‚ñΩ^</em>)„ÄÇ</p>
<p>Ëã• path ‰∏∫ Á©∫Ôºà‚Äú‚ÄùÔºâÊó∂ÔºåÂàôË∞ÉÁî® <code>addAllClassLoaderJarRoots()</code>ÊñπÊ≥ï„ÄÇËØ•ÊñπÊ≥ï‰∏ªË¶ÅÊòØÂä†ËΩΩË∑ØÂæÑ‰∏ãÂæóÊâÄÊúâ jar ÂåÖÔºåÊñπÊ≥ïËæÉÈïø‰πüÊ≤°Êúâ‰ªÄ‰πàÂÆûÈôÖÊÑè‰πâÂ∞±‰∏çË¥¥Âá∫Êù•‰∫Ü„ÄÇ</p>
<p>ÈÄöËøá‰∏äÈù¢ÁöÑÂàÜÊûêÔºåÊàë‰ª¨Áü•ÈÅì <code>findAllClassPathResources()</code> ÂÖ∂ÂÆûÂ∞±ÊòØÂà©Áî® ClassLoader Êù•Âä†ËΩΩÊåáÂÆöË∑ØÂæÑ‰∏ãÁöÑËµÑÊ∫êÔºå‰∏çÁÆ°ÂÆÉÊòØÂú® class Ë∑ØÂæÑ‰∏ãËøòÊòØÂú® jar ÂåÖ‰∏≠„ÄÇÂ¶ÇÊûúÊàë‰ª¨‰º†ÂÖ•ÁöÑË∑ØÂæÑ‰∏∫Á©∫ÊàñËÄÖ <code>/</code>ÔºåÂàô‰ºöË∞ÉÁî® <code>addAllClassLoaderJarRoots()</code> ÊñπÊ≥ïÂä†ËΩΩÊâÄÊúâÁöÑ jar ÂåÖ„ÄÇ</p>
<h4 id="findAllClassPathResources-1"><a href="#findAllClassPathResources-1" class="headerlink" title="findAllClassPathResources()"></a>findAllClassPathResources()</h4><p>ÂΩì <code>locationPattern</code> ‰ª• *<em>classpath</em>:** ÂºÄÂ§¥‰∏îÂΩì‰∏≠ÂåÖÂê´‰∫ÜÈÄöÈÖçÁ¨¶ÔºåÂàôË∞ÉÁî®ËØ•ÊñπÊ≥ïËøõË°åËµÑÊ∫êÂä†ËΩΩ„ÄÇÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> Resource[] findPathMatchingResources(String locationPattern) </span><br><span class="line">  <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">  <span class="comment">// Á°ÆÂÆöË∑üË∑ØÂæÑ</span></span><br><span class="line">  String rootDirPath = determineRootDir(locationPattern);</span><br><span class="line">  String subPattern = locationPattern.substring(rootDirPath.length());</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Ëé∑ÂèñÊ†πÊçÆË∑ØÂæÑ‰∏ãÂæóËµÑÊ∫ê</span></span><br><span class="line">  Resource[] rootDirResources = getResources(rootDirPath);</span><br><span class="line"></span><br><span class="line">  Set&lt;Resource&gt; result = <span class="keyword">new</span> LinkedHashSet&lt;&gt;(<span class="number">16</span>);</span><br><span class="line">  <span class="keyword">for</span> (Resource rootDirResource : rootDirResources) &#123;</span><br><span class="line">    rootDirResource = resolveRootDirResource(rootDirResource);</span><br><span class="line">    URL rootDirUrl = rootDirResource.getURL();</span><br><span class="line">    <span class="comment">// bundle ËµÑÊ∫êÁ±ªÂûã</span></span><br><span class="line">    <span class="keyword">if</span> (equinoxResolveMethod != <span class="keyword">null</span> </span><br><span class="line">        &amp;&amp; rootDirUrl.getProtocol().startsWith(<span class="string">&quot;bundle&quot;</span>)) &#123;</span><br><span class="line">      URL resolvedUrl = (URL) ReflectionUtils</span><br><span class="line">        .invokeMethod(equinoxResolveMethod, <span class="keyword">null</span>, rootDirUrl);</span><br><span class="line">      <span class="keyword">if</span> (resolvedUrl != <span class="keyword">null</span>) &#123;</span><br><span class="line">        rootDirUrl = resolvedUrl;</span><br><span class="line">      &#125;</span><br><span class="line">      rootDirResource = <span class="keyword">new</span> UrlResource(rootDirUrl);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// VFS ËµÑÊ∫ê</span></span><br><span class="line">    <span class="keyword">if</span> (rootDirUrl.getProtocol().startsWith(ResourceUtils.URL_PROTOCOL_VFS)) &#123;</span><br><span class="line">      result.addAll(VfsResourceMatchingDelegate</span><br><span class="line">                    .findMatchingResources(rootDirUrl,</span><br><span class="line">                                           subPattern, getPathMatcher()));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Jar</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (ResourceUtils.isJarURL(rootDirUrl) </span><br><span class="line">             || isJarResource(rootDirResource)) &#123;</span><br><span class="line">      result</span><br><span class="line">        .addAll(doFindPathMatchingJarResources</span><br><span class="line">                (rootDirResource, rootDirUrl, subPattern));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      result</span><br><span class="line">        .addAll(doFindPathMatchingFileResources(</span><br><span class="line">          rootDirResource, subPattern));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line">    logger.debug(<span class="string">&quot;Resolved location pattern [&quot;</span> </span><br><span class="line">                 + locationPattern + <span class="string">&quot;] to resources &quot;</span> </span><br><span class="line">                 + result);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result.toArray(<span class="keyword">new</span> Resource[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÊñπÊ≥ïÊúâÁÇπÂÑøÈïøÔºå‰ΩÜÊòØÊÄùË∑ØËøòÊòØÂæàÊ∏ÖÊô∞ÁöÑÔºå‰∏ªË¶ÅÂàÜ‰∏§Ê≠•Ôºö</p>
<ol>
<li>Á°ÆÂÆöÁõÆÂΩïÔºåËé∑ÂèñËØ•ÁõÆÂΩï‰∏ãÂæóÊâÄÊúâËµÑÊ∫ê</li>
<li>Âú®ÊâÄËé∑ÂæóÁöÑÊâÄÊúâËµÑÊ∫ê‰∏≠ËøõË°åËø≠‰ª£ÂåπÈÖçËé∑ÂèñÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑËµÑÊ∫ê„ÄÇ</li>
</ol>
<p>Âú®Ëøô‰∏™ÊñπÊ≥ïÈáåÈù¢Êàë‰ª¨Ë¶ÅÂÖ≥Ê≥®‰∏§‰∏™ÊñπÊ≥ïÔºå‰∏Ä‰∏™ÊòØ <code>determineRootDir()</code>,‰∏Ä‰∏™ÊòØ <code>doFindPathMatchingFileResources()</code>„ÄÇ</p>
<p><code>determineRootDir()</code>‰∏ªË¶ÅÊòØÁî®‰∫éÁ°ÆÂÆöÊ†πË∑ØÂæÑÔºåÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> String <span class="title">determineRootDir</span><span class="params">(String location)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> prefixEnd = location.indexOf(<span class="string">&#x27;:&#x27;</span>) + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">int</span> rootDirEnd = location.length();</span><br><span class="line">  <span class="keyword">while</span> (rootDirEnd &gt; prefixEnd &amp;&amp; getPathMatcher()</span><br><span class="line">         .isPattern(location.substring(prefixEnd, rootDirEnd))) &#123;</span><br><span class="line">    rootDirEnd = location.lastIndexOf(<span class="string">&#x27;/&#x27;</span>, rootDirEnd - <span class="number">2</span>) + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (rootDirEnd == <span class="number">0</span>) &#123;</span><br><span class="line">    rootDirEnd = prefixEnd;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> location.substring(<span class="number">0</span>, rootDirEnd);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ËØ•ÊñπÊ≥ï‰∏ÄÂÆöË¶ÅÁªôÂá∫‰∏Ä‰∏™Á°ÆÂÆöÁöÑÊ†πÁõÆÂΩï„ÄÇËØ•Ê†πÁõÆÂΩïÁî®‰∫éÁ°ÆÂÆöÊñá‰ª∂ÁöÑÂåπÈÖçÁöÑËµ∑ÂßãÁÇπÔºåÂ∞ÜÊ†πÁõÆÂΩï‰ΩçÁΩÆÁöÑËµÑÊ∫êËß£Êûê‰∏∫ <code>java.io.File</code> Âπ∂Â∞ÜÂÖ∂‰º†ÈÄíÂà∞ <code>retrieveMatchingFiles()</code>ÔºåÂÖ∂‰Ωô‰∏∫Áü•Áî®‰∫éÊ®°ÂºèÂåπÈÖçÔºåÊâæÂá∫Êàë‰ª¨ÊâÄÈúÄË¶ÅÁöÑËµÑÊ∫ê„ÄÇ</p>
<p>Á°ÆÂÆöÊ†πË∑ØÂæÑÂ¶Ç‰∏ã:</p>
<table>
<thead>
<tr>
<th align="center">ÂéüË∑ØÂæÑ</th>
<th align="center">Á°ÆÂÆöÊ†πË∑ØÂæÑ</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>classpath*:test/cc*/spring-*.xml</code></td>
<td align="center"><code>classpath*:test/</code></td>
</tr>
<tr>
<td align="center"><code>classpath*:test/aa/spring-*.xml</code></td>
<td align="center"><code>classpath*:test/aa/</code></td>
</tr>
</tbody></table>
<p>Á°ÆÂÆöÊ†πË∑ØÂæÑÂêéÔºåÂàôË∞ÉÁî® <code>getResources()</code> ÊñπÊ≥ïËé∑ÂèñËØ•Ë∑ØÂæÑ‰∏ãÂæóÊâÄÊúâËµÑÊ∫êÔºåÁÑ∂ÂêéËø≠‰ª£ËµÑÊ∫êËé∑ÂèñÁ¨¶ÂêàÊù°‰ª∂ÁöÑËµÑÊ∫ê„ÄÇ</p>
<p>Ëá≥Ê≠§ <code>Spring</code> Êï¥‰∏™ËµÑÊ∫êËÆ∞ËΩΩËøáÁ®ãÂ∑≤ÁªèÂàÜÊûêÂÆåÊØï„ÄÇ‰∏ãÈù¢ÁÆÄË¶ÅÊÄªÁªì‰∏ãÔºö</p>
<ul>
<li><code>Spring</code> Êèê‰æõ‰∫Ü <code>Resource</code> Âíå <code>ResourceLoader</code> Êù•Áªü‰∏ÄÊäΩË±°Êï¥‰∏™ËµÑÊ∫êÂèäÂÖ∂ÂÆö‰Ωç„ÄÇ‰ΩøÂæóËµÑÊ∫ê‰∏éËµÑÊ∫êÁöÑÂÆö‰ΩçÊúâ‰∫Ü‰∏Ä‰∏™Êõ¥Âä†Ê∏ÖÊô∞ÁöÑÁïåÈôêÔºåÂπ∂‰∏îÊèê‰æõ‰∫ÜÂêàÈÄÇÁöÑ <code>Default</code> Á±ªÔºå‰ΩøÂæóËá™ÂÆö‰πâÂÆûÁé∞Êõ¥Âä†Êñπ‰æøÂíåÊ∏ÖÊô∞„ÄÇ</li>
<li><code>AbstractResource</code> ‰∏∫ <code>Resource</code> ÁöÑÈªòËÆ§ÂÆûÁé∞ÔºåÂÆÉÂØπ <code>Resource</code> Êé•Âè£ÂÅö‰∫Ü‰∏Ä‰∏™Áªü‰∏ÄÁöÑÂÆûÁé∞ÔºåÂ≠êÁ±ªÁªßÊâøËØ•Á±ªÂêéÂè™ÈúÄË¶ÅË¶ÜÁõñÁõ∏Â∫îÁöÑÊñπÊ≥ïÂç≥ÂèØÔºåÂêåÊó∂ÂØπ‰∫éËá™ÂÆö‰πâÁöÑ <code>Resource</code> Êàë‰ª¨‰πüÊòØÁªßÊâøËØ•Á±ª„ÄÇ</li>
<li><code>DefaultResourceLoader</code> ÂêåÊ†∑‰πüÊòØ <code>ResourceLoader</code> ÁöÑÈªòËÆ§ÂÆûÁé∞ÔºåÂú®Ëá™ÂÆö <code>ResourceLoader</code> ÁöÑÊó∂ÂÄôÊàë‰ª¨Èô§‰∫ÜÂèØ‰ª•ÁªßÊâøËØ•Á±ªÂ§ñËøòÂèØ‰ª•ÂÆûÁé∞ <code>ProtocolResolver</code> Êé•Âè£Êù•ÂÆûÁé∞Ëá™ÂÆöËµÑÊ∫êÂä†ËΩΩÂçèËÆÆ„ÄÇ</li>
<li><code>DefaultResourceLoader</code> ÊØèÊ¨°Âè™ËÉΩËøîÂõûÂçï‰∏ÄÁöÑËµÑÊ∫êÔºåÊâÄ‰ª• <code>Spring</code> ÈíàÂØπËøô‰∏™Êèê‰æõ‰∫ÜÂè¶Â§ñ‰∏Ä‰∏™Êé•Âè£ <code>ResourcePatternResolver</code> ÔºåËØ•Êé•Âè£Êèê‰æõ‰∫ÜÊ†πÊçÆÊåáÂÆöÁöÑ <code>locationPattern</code> ËøîÂõûÂ§ö‰∏™ËµÑÊ∫êÁöÑÁ≠ñÁï•„ÄÇÂÖ∂Â≠êÁ±ª <code>PathMatchingResourcePatternResolver</code> ÊòØ‰∏Ä‰∏™ÈõÜÂ§ßÊàêËÄÖÁöÑ <code>ResourceLoader</code> ÔºåÂõ†‰∏∫ÂÆÉÂç≥ÂÆûÁé∞‰∫Ü <code>Resource getResource(String location)</code> ‰πüÂÆûÁé∞‰∫Ü <code>Resource[] getResources(String locationPattern)</code>„ÄÇ</li>
</ul>

  </div>

  
    <div style="text-align:center;width:100%">
      <img src="https://cdn.jsdelivr.net/gh/cayzlh/git-img-repository@master/uPic/640-2.gif">
    </div>
  

  
    <div>
      <h4>ÁâàÊùÉÂ£∞Êòé</h4>
      <pre>
        
        <strong>Êú¨ÊñáÊù•Ê∫êÔºö </strong><a href="http://cmsblogs.com/?p=2656" title="JavaÊäÄÊúØÈ©øÁ´ô-chenssy-„ÄêÊ≠ªÁ£ï Spring„Äë‚Äî‚Äì IOC ‰πã Spring Áªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•" rel="external nofollow noopener noreferrer" target="_blank">http://cmsblogs.com/?p=2656</a>

        <strong>Êú¨ÊñáÈìæÊé•Ôºö</strong><a href="https://www.cayzlh.com/2020/01/02/8f7aa5ac.html" title="/blog/IOC%E4%B9%8BSpring%E7%BB%9F%E4%B8%80%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%E7%AD%96%E7%95%A5">https://www.cayzlh.com/2020/01/02/8f7aa5ac.html</a>

        <strong>ÁâàÊùÉÂ£∞ÊòéÔºö </strong>
        
          ÊñáÁ´†ÂÜÖÂÆπ‰ªÖÁî®‰ΩúÂ≠¶‰π†ÂíåÂàÜ‰∫´ÔºåËΩ¨ËΩΩËØ∑Ê≥®ÊòéÂá∫Â§Ñ
        
      </pre>
    </div>
  

</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/blog/">Home</a></li>
        
          <li><a href="/blog/archives/">Articles</a></li>
        
          <li><a href="/blog/about/">About</a></li>
        
          <li><a href="/blog/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%91%98%E8%A6%81"><span class="toc-number">1.</span> <span class="toc-text">ÊëòË¶Å</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E8%B5%84%E6%BA%90%EF%BC%9AResource"><span class="toc-number">2.</span> <span class="toc-text">Áªü‰∏ÄËµÑÊ∫êÔºöResource</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E8%B5%84%E6%BA%90%E5%AE%9A%E4%BD%8D-ResourceLoader"><span class="toc-number">3.</span> <span class="toc-text">Áªü‰∏ÄËµÑÊ∫êÂÆö‰Ωç(ResourceLoader)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DefaultResourceLoader"><span class="toc-number">3.1.</span> <span class="toc-text">DefaultResourceLoader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileSystemResourceLoader"><span class="toc-number">3.2.</span> <span class="toc-text">FileSystemResourceLoader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ResourcePatternResolver"><span class="toc-number">3.3.</span> <span class="toc-text">ResourcePatternResolver</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Resource-getResource-String-location"><span class="toc-number">3.3.1.</span> <span class="toc-text">Resource getResource(String location)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Resource-getResources-String-locationPattern"><span class="toc-number">3.3.2.</span> <span class="toc-text">Resource[] getResources(String locationPattern)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#findAllClassPathResources"><span class="toc-number">3.3.3.</span> <span class="toc-text">findAllClassPathResources()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#findAllClassPathResources-1"><span class="toc-number">3.3.4.</span> <span class="toc-text">findAllClassPathResources()</span></a></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.facebook.com/sharer.php?u=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://twitter.com/share?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&text=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.linkedin.com/shareArticle?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&title=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&is_video=false&description=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•&body=Check out this article: https://www.cayzlh.com/2020/01/02/8f7aa5ac.html"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://getpocket.com/save?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&title=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://reddit.com/submit?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&title=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.stumbleupon.com/submit?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&title=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://digg.com/submit?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&title=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="http://www.tumblr.com/share/link?url=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&name=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="external nofollow noopener noreferrer" href="https://news.ycombinator.com/submitlink?u=https://www.cayzlh.com/2020/01/02/8f7aa5ac.html&t=IOC‰πãSpringÁªü‰∏ÄËµÑÊ∫êÂä†ËΩΩÁ≠ñÁï•"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
<!--        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>-->
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    CAYZLH &copy;
    
    
    2019-2021
    Á≤§ICPÂ§á20058712Âè∑-1
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        
          <li><a href="/blog/tools/">tools</a></li>
        
          <li><a href="/blog/links/">links</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/blog/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/blog/lib/jquery/jquery.min.js"></script>


<script src="/blog/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/blog/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/blog/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-129095667-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-129095667-1');
    </script>

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->


</body>
</html>
